<<<<<<< HEAD
---
layout: default
title: LÃ½ thuyáº¿t Ná»n táº£ng
---

# Giá»›i thiá»‡u KhÃ¡i niá»‡m Ná»n táº£ng Web3 vÃ  Blockchain

TÃ i liá»‡u nÃ y cung cáº¥p má»™t lá»™ trÃ¬nh há»c thuáº­t toÃ n diá»‡n, giÃºp báº¡n hiá»ƒu rÃµ cÃ¡c khÃ¡i niá»‡m cá»‘t lÃµi cáº¥u thÃ nh nÃªn kiáº¿n trÃºc cá»§a má»™t á»©ng dá»¥ng phi táº­p trung (DApp). Thay vÃ¬ Ä‘i sÃ¢u vÃ o mÃ£ nguá»“n, chÃºng ta sáº½ sá»­ dá»¥ng ngÃ´n ngá»¯ tá»± nhiÃªn, cÃ¡c vÃ­ dá»¥ Ä‘á»i thÆ°á»ng vÃ  cÃ¡c phÃ©p so sÃ¡nh trá»±c quan Ä‘á»ƒ lÃ m sÃ¡ng tá» nhá»¯ng thuáº­t ngá»¯ tÆ°á»Ÿng chá»«ng phá»©c táº¡p.

---

## ğŸ“– Lá»™ trÃ¬nh Äá»c Khuyáº¿n nghá»‹

### Cho NgÆ°á»i má»›i báº¯t Ä‘áº§u
```
ChÆ°Æ¡ng 1 (Blockchain) â†’ ChÆ°Æ¡ng 2 (Smart Contracts CÆ¡ báº£n) â†’ ChÆ°Æ¡ng 4 (IPFS) â†’ ChÆ°Æ¡ng 7 (IoT)
```

### Cho NhÃ  PhÃ¡t triá»ƒn
```
Tuáº§n tá»± tá»« ChÆ°Æ¡ng 1 Ä‘áº¿n ChÆ°Æ¡ng 7 Ä‘á»ƒ hiá»ƒu Ä‘áº§y Ä‘á»§ kiáº¿n trÃºc há»‡ thá»‘ng
```

---

## VÃŒ SAO Cáº¦N VINALIB? (DSR Context)

> [!TIP]
> **Bá»‘i cáº£nh DSR:** ChÆ°Æ¡ng nÃ y giáº£i thÃ­ch **váº¥n Ä‘á» thá»±c táº¿** mÃ  VinaLib hÆ°á»›ng Ä‘áº¿n giáº£i quyáº¿t.  
> Äá»ƒ Ä‘á»c phÃ¢n tÃ­ch chi tiáº¿t vá»›i academic rigor â†’ xem [Problem Statement](./Problem_Statement.md)

### Nhá»¯ng ThÃ¡ch thá»©c Trong Quáº£n lÃ½ TÃ i sáº£n Truyá»n thá»‘ng

TrÆ°á»›c khi xÃ¢y dá»±ng báº¥t ká»³ giáº£i phÃ¡p cÃ´ng nghá»‡ nÃ o, chÃºng ta cáº§n hiá»ƒu rÃµ **váº¥n Ä‘á»** Ä‘ang tá»“n táº¡i. Há»‡ thá»‘ng quáº£n lÃ½ tÃ i sáº£n truyá»n thá»‘ng (nhÆ° cho thuÃª sÃ¡ch, thiáº¿t bá»‹, hay báº¥t Ä‘á»™ng sáº£n) gáº·p pháº£i ba nhÃ³m váº¥n Ä‘á» lá»›n:

**1. Tranh cháº¥p vá» Quyá»n sá»Ÿ há»¯u vÃ  TÃ¬nh tráº¡ng TÃ i sáº£n**

Khi báº¡n thuÃª má»™t cuá»‘n sÃ¡ch tá»« thÆ° viá»‡n, lÃ m sao chá»©ng minh ráº±ng sÃ¡ch Ä‘Ã£ bá»‹ rÃ¡ch tá»« trÆ°á»›c khi báº¡n nháº­n, chá»© khÃ´ng pháº£i do báº¡n lÃ m há»ng? Há»“ sÆ¡ giáº¥y tá» cÃ³ thá»ƒ bá»‹ máº¥t, sá»­a Ä‘á»•i, hoáº·c khÃ´ng Ä‘á»§ chi tiáº¿t. Khi cÃ³ tranh cháº¥p xáº£y ra, cáº£ hai bÃªn Ä‘á»u thiáº¿u báº±ng chá»©ng minh báº¡ch Ä‘á»ƒ xÃ¡c Ä‘á»‹nh trÃ¡ch nhiá»‡m.

**2. Xá»­ lÃ½ Thá»§ cÃ´ng Tá»‘n KÃ©m vÃ  Dá»… Sai sÃ³t**

Má»—i láº§n báº¡n thuÃª sÃ¡ch, nhÃ¢n viÃªn pháº£i: nháº­n tiá»n cá»c, ghi chÃ©p vÃ o sá»•, kiá»ƒm tra tÃ¬nh tráº¡ng sÃ¡ch, tÃ­nh toÃ¡n phÃ­ trá»… háº¡n (náº¿u cÃ³), vÃ  hoÃ n tráº£ tiá»n cá»c. Quy trÃ¬nh nÃ y máº¥t 60-90 phÃºt má»—i chu ká»³ thuÃª tráº£, tá»‘n chi phÃ­ nhÃ¢n cÃ´ng $30-40 má»—i giao dá»‹ch, vÃ  cÃ³ tá»· lá»‡ sai sÃ³t 8-12% trong tÃ­nh toÃ¡n.

Tiá»n cá»c Ä‘Æ°á»£c giá»¯ bá»Ÿi con ngÆ°á»i (thá»§ thÆ°, quáº£n lÃ½), táº¡o ra rá»§i ro biá»ƒn thá»§ hoáº·c máº¥t mÃ¡t. Viá»‡c duyá»‡t yÃªu cáº§u thuÃª dá»±a trÃªn Ä‘Ã¡nh giÃ¡ chá»§ quan, khÃ´ng cÃ´ng báº±ng.

**3. Thiáº¿u Minh báº¡ch trong Lá»‹ch sá»­ DÃ²ng Ä‘á»i TÃ i sáº£n**

Má»™t cuá»‘n sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c cho thuÃª bao nhiÃªu láº§n? Ai Ä‘Ã£ tá»«ng thuÃª nÃ³? CÃ³ tá»«ng bá»‹ bÃ¡o cÃ¡o hÆ° há»ng khÃ´ng? Há»‡ thá»‘ng truyá»n thá»‘ng khÃ´ng lÆ°u trá»¯ Ä‘áº§y Ä‘á»§ lá»‹ch sá»­ nÃ y. Khi sÃ¡ch Ä‘Æ°á»£c chuyá»ƒn giao (quyÃªn táº·ng, bÃ¡n láº¡i), toÃ n bá»™ lá»‹ch sá»­ bá»‹ máº¥t, lÃ m giáº£m giÃ¡ trá»‹ vÃ  Ä‘á»™ tin cáº­y.

### VinaLib Giáº£i quyáº¿t Tháº¿ nÃ o?

Dá»± Ã¡n VinaLib Ä‘Æ°á»£c thiáº¿t káº¿ theo phÆ°Æ¡ng phÃ¡p luáº­n **Design Science Research (DSR)** Ä‘á»ƒ giáº£i quyáº¿t tá»«ng váº¥n Ä‘á» má»™t cÃ¡ch cÃ³ há»‡ thá»‘ng:

- **Váº¥n Ä‘á» 1 (Tranh cháº¥p)** â†’ **Giáº£i phÃ¡p**: Má»—i tÃ i sáº£n lÃ  má»™t NFT vá»›i lá»‹ch sá»­ báº¥t biáº¿n trÃªn blockchain, áº£nh bÃ¬a vÃ  mÃ´ táº£ lÆ°u trÃªn IPFS khÃ´ng thá»ƒ sá»­a Ä‘á»•i
- **Váº¥n Ä‘á» 2 (Thá»§ cÃ´ng)** â†’ **Giáº£i phÃ¡p**: Smart contracts tá»± Ä‘á»™ng giá»¯ cá»c, duyá»‡t yÃªu cáº§u, tÃ­nh phÃ­, vÃ  hoÃ n tráº£ mÃ  khÃ´ng cáº§n con ngÆ°á»i
- **Váº¥n Ä‘á» 3 (Thiáº¿u minh báº¡ch)** â†’ **Giáº£i phÃ¡p**: Má»i giao dá»‹ch Ä‘Æ°á»£c ghi láº¡i vÄ©nh viá»…n trÃªn blockchain, táº¡o audit trail hoÃ n chá»‰nh

CÃ¡c chÆ°Æ¡ng tiáº¿p theo sáº½ giáº£i thÃ­ch **cÃ¡c cÃ´ng nghá»‡ ná»n táº£ng** (Blockchain, Smart Contracts, IPFS, Chainlink, IoT) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¢y dá»±ng giáº£i phÃ¡p nÃ y.

> [!NOTE]
> **Äá»ƒ hiá»ƒu chi tiáº¿t vá» má»¥c tiÃªu Ä‘o lÆ°á»ng Ä‘Æ°á»£c** â†’ xem [Solution Objectives](./Solution_Objectives.md)  
> **Äá»ƒ xem káº¿t quáº£ Ä‘Ã¡nh giÃ¡ hiá»‡u quáº£** â†’ xem [Evaluation Results](./Evaluation_Results.md)

---

## CHÆ¯Æ NG 0: Tá»”NG QUAN KIáº¾N TRÃšC VINALIB

TrÆ°á»›c khi Ä‘i sÃ¢u vÃ o tá»«ng thÃ nh pháº§n, hÃ£y nhÃ¬n vÃ o bá»©c tranh toÃ n cáº£nh cá»§a há»‡ thá»‘ng VinaLib. ÄÃ¢y lÃ  má»™t ná»n táº£ng cho thuÃª sÃ¡ch phi táº­p trung, káº¿t há»£p nÄƒm cÃ´ng nghá»‡ chÃ­nh lÃ m viá»‡c cÃ¹ng nhau nhÆ° má»™t dÃ n nháº¡c.

### SÆ¡ Ä‘á»“ Tá»•ng quan

HÃ£y tÆ°á»Ÿng tÆ°á»£ng VinaLib nhÆ° má»™t ngÃ´i nhÃ  nhiá»u táº§ng. Táº§ng má»™t lÃ  ná»n mÃ³ng Blockchain, nÆ¡i cÃ¡c há»£p Ä‘á»“ng thÃ´ng minh (Smart Contracts) quáº£n lÃ½ logic thuÃª sÃ¡ch vÃ  tiá»n cá»c. Táº§ng hai lÃ  há»‡ thá»‘ng lÆ°u trá»¯ IPFS, nÆ¡i lÆ°u giá»¯ áº£nh bÃ¬a sÃ¡ch vÃ  thÃ´ng tin chi tiáº¿t. Táº§ng ba lÃ  Chainlink Oracle, cáº§u ná»‘i giÃºp Smart Contract láº¥y dá»¯ liá»‡u tá»« tháº¿ giá»›i bÃªn ngoÃ i nhÆ° Ä‘iá»ƒm uy tÃ­n ngÆ°á»i dÃ¹ng. VÃ  cuá»‘i cÃ¹ng, táº§ng bá»‘n lÃ  IoT - cÃ¡c khÃ³a thÃ´ng minh váº­t lÃ½ cho phÃ©p ngÆ°á»i thuÃª má»Ÿ khÃ³a vÃ  láº¥y sÃ¡ch.

### Luá»“ng Dá»¯ liá»‡u ToÃ n Há»‡ thá»‘ng

HÃ£y theo dÃµi hÃ nh trÃ¬nh cá»§a má»™t quyá»ƒn sÃ¡ch tá»« khi Ä‘Æ°á»£c Ä‘Äƒng kÃ½ cho Ä‘áº¿n khi ai Ä‘Ã³ thuÃª vÃ  tráº£ nÃ³. Äáº§u tiÃªn, chá»§ sÃ¡ch Ä‘Äƒng kÃ½ cuá»‘n sÃ¡ch lÃªn há»‡ thá»‘ng. Má»™t NFT (token khÃ´ng thá»ƒ thay tháº¿) Ä‘Æ°á»£c táº¡o ra trÃªn Blockchain Ä‘á»ƒ Ä‘áº¡i diá»‡n cho quyá»ƒn sÃ¡ch váº­t lÃ½ nÃ y. áº¢nh bÃ¬a vÃ  mÃ´ táº£ Ä‘Æ°á»£c upload lÃªn IPFS, táº¡o ra má»™t mÃ£ Ä‘á»‹nh danh ná»™i dung (CID) duy nháº¥t. MÃ£ CID nÃ y Ä‘Æ°á»£c lÆ°u trong NFT.

Khi cÃ³ ngÆ°á»i muá»‘n thuÃª, há» gá»­i yÃªu cáº§u. Smart Contract kiá»ƒm tra Ä‘iá»ƒm uy tÃ­n cá»§a ngÆ°á»i Ä‘Ã³ thÃ´ng qua Chainlink Oracle, Oracle nÃ y láº¥y dá»¯ liá»‡u tá»« cÆ¡ sá»Ÿ dá»¯ liá»‡u bÃªn ngoÃ i. Náº¿u Ä‘Æ°á»£c cháº¥p thuáº­n, tiá»n cá»c Ä‘Æ°á»£c lock trong há»£p Ä‘á»“ng. Má»™t mÃ£ unlock táº¡m thá»i Ä‘Æ°á»£c gá»­i Ä‘áº¿n há»‡ thá»‘ng IoT. NgÆ°á»i thuÃª nháº­p mÃ£ vÃ o khÃ³a thÃ´ng minh Ä‘á»ƒ má»Ÿ tá»§ vÃ  láº¥y sÃ¡ch.

Khi tráº£ sÃ¡ch, quÃ¡ trÃ¬nh ngÆ°á»£c láº¡i xáº£y ra. IoT ghi nháº­n sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c tráº£, thÃ´ng tin Ä‘Æ°á»£c hash vÃ  lÆ°u lÃªn Blockchain qua Chainlink. Smart Contract tá»± Ä‘á»™ng tÃ­nh toÃ¡n phÃ­ (náº¿u tráº£ muá»™n) vÃ  hoÃ n tráº£ tiá»n cá»c cÃ²n láº¡i cho ngÆ°á»i thuÃª.

### Ma tráº­n Má»‘i quan há»‡ Giá»¯a cÃ¡c ThÃ nh pháº§n

Má»—i cÃ´ng nghá»‡ trong há»‡ thá»‘ng khÃ´ng Ä‘á»©ng Ä‘á»™c láº­p mÃ  liÃªn káº¿t cháº·t cháº½ vá»›i nhau. IPFS cung cáº¥p CID cho Smart Contract lÆ°u trong metadata cá»§a NFT. Smart Contract emit cÃ¡c events (sá»± kiá»‡n) khi cÃ³ giao dá»‹ch thuÃª sÃ¡ch, cÃ¡c sá»± kiá»‡n nÃ y kÃ­ch hoáº¡t há»‡ thá»‘ng IoT má»Ÿ khÃ³a. Chainlink Functions cÃ³ thá»ƒ láº¥y dá»¯ liá»‡u tá»« IoT sensors Ä‘á»ƒ xÃ¡c nháº­n sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c tráº£, sau Ä‘Ã³ gá»i callback vÃ o Smart Contract Ä‘á»ƒ cáº­p nháº­t tráº¡ng thÃ¡i. Táº¥t cáº£ cÃ¡c logs tá»« IoT Ä‘Æ°á»£c hash vÃ  lÆ°u lÃªn Blockchain Ä‘á»ƒ táº¡o audit trail khÃ´ng thá»ƒ chá»‰nh sá»­a.

### Báº£ng Thuáº­t ngá»¯ Quan trá»ng

Má»™t sá»‘ thuáº­t ngá»¯ chung báº¡n sáº½ gáº·p xuyÃªn suá»‘t tÃ i liá»‡u. **On-chain** nghÄ©a lÃ  dá»¯ liá»‡u hoáº·c logic Ä‘Æ°á»£c lÆ°u trá»¯ vÃ  thá»±c thi trá»±c tiáº¿p trÃªn Blockchain. **Off-chain** lÃ  nhá»¯ng gÃ¬ náº±m bÃªn ngoÃ i Blockchain nhÆ° servers, APIs, hay IPFS. **Gas** lÃ  chi phÃ­ tÃ­nh toÃ¡n báº¡n pháº£i tráº£ khi thá»±c hiá»‡n má»™t thao tÃ¡c trÃªn Blockchain. **Wallet** lÃ  vÃ­ Ä‘iá»‡n tá»­ chá»©a private key Ä‘á»ƒ kÃ½ giao dá»‹ch.

Trong VinaLib, cÃ³ nhá»¯ng thuáº­t ngá»¯ Ä‘áº·c thÃ¹ riÃªng. **BookAsset** lÃ  Smart Contract Ä‘áº¡i diá»‡n cho sÃ¡ch dÆ°á»›i dáº¡ng NFT. **PolicyEngine** lÃ  Smart Contract tá»± Ä‘á»™ng Ä‘Ã¡nh giÃ¡ vÃ  approve hoáº·c reject cÃ¡c yÃªu cáº§u thuÃª dá»±a trÃªn trust score vÃ  book tier. **RentalAgreementSBT** lÃ  Soulbound Token - má»™t loáº¡i NFT khÃ´ng thá»ƒ chuyá»ƒn nhÆ°á»£ng - chá»©ng nháº­n ngÆ°á»i dÃ¹ng Ä‘Ã£ kÃ½ há»£p Ä‘á»“ng thuÃª sÃ¡ch.

---

## CHÆ¯Æ NG 1: Háº  Táº¦NG LÃ’NG TIN (BLOCKCHAIN FUNDAMENTALS)

TrÆ°á»›c khi nÃ³i vá» cÃ¡c á»©ng dá»¥ng thÃ´ng minh, chÃºng ta cáº§n hiá»ƒu vá» ná»n mÃ³ng mÃ  chÃºng Ä‘Æ°á»£c xÃ¢y dá»±ng: Blockchain. HÃ£y hÃ¬nh dung Blockchain nhÆ° má»™t cuá»‘n sá»• cÃ¡i khá»•ng lá»“, Ä‘Æ°á»£c sao chÃ©p vÃ  lÆ°u giá»¯ Ä‘á»“ng thá»i trÃªn hÃ ng nghÃ¬n mÃ¡y tÃ­nh trÃªn kháº¯p tháº¿ giá»›i. KhÃ´ng má»™t ai sá»Ÿ há»¯u cuá»‘n sá»• nÃ y, vÃ  má»i ngÆ°á»i Ä‘á»u cÃ³ thá»ƒ kiá»ƒm tra ná»™i dung cá»§a nÃ³.

### Node - Nhá»¯ng NgÆ°á»i GÃ¡c Cá»•ng cá»§a Máº¡ng lÆ°á»›i

Má»—i mÃ¡y tÃ­nh tham gia vÃ o máº¡ng lÆ°á»›i Blockchain Ä‘Æ°á»£c gá»i lÃ  má»™t **Node** (nÃºt máº¡ng). Báº¡n cÃ³ thá»ƒ tÆ°á»Ÿng tÆ°á»£ng cÃ¡c node nhÆ° cÃ¡c cÃ´ng chá»©ng viÃªn lÃ m viá»‡c song song: má»—i ngÆ°á»i Ä‘á»u giá»¯ má»™t báº£n sao Ä‘áº§y Ä‘á»§ cá»§a sá»• cÃ¡i, vÃ  khi cÃ³ má»™t giao dá»‹ch má»›i, táº¥t cáº£ há» Ä‘á»u xÃ¡c nháº­n vÃ  ghi láº¡i cÃ¹ng má»™t lÃºc.

CÃ³ ba loáº¡i node phá»• biáº¿n. **Full Node** lÃ  loáº¡i lÆ°u trá»¯ toÃ n bá»™ lá»‹ch sá»­ giao dá»‹ch tá»« ngÃ y Ä‘áº§u tiÃªn Ä‘áº¿n hiá»‡n táº¡i, Ä‘Ã³ng vai trÃ² nhÆ° má»™t thÆ° viá»‡n lÆ°u trá»¯ hoÃ n chá»‰nh. **Light Node** chá»‰ lÆ°u cÃ¡c thÃ´ng tin tÃ³m táº¯t, giá»‘ng nhÆ° viá»‡c Ä‘á»c má»¥c lá»¥c cá»§a má»™t cuá»‘n sÃ¡ch thay vÃ¬ Ä‘á»c toÃ n bá»™ ná»™i dung, giÃºp tiáº¿t kiá»‡m tÃ i nguyÃªn. Cuá»‘i cÃ¹ng, **Validator Node** lÃ  nhá»¯ng node Ä‘áº·c biá»‡t tham gia vÃ o quÃ¡ trÃ¬nh Ä‘á»“ng thuáº­n, quyáº¿t Ä‘á»‹nh giao dá»‹ch nÃ o lÃ  há»£p lá»‡ vÃ  nÃªn Ä‘Æ°á»£c thÃªm vÃ o sá»• cÃ¡i.

### Sá»• cÃ¡i PhÃ¢n tÃ¡n - Cuá»‘n Sá»• KhÃ´ng Thá»ƒ XÃ³a

KhÃ¡c vá»›i sá»• cÃ¡i truyá»n thá»‘ng do má»™t ngÃ¢n hÃ ng hay cÃ´ng ty náº¯m giá»¯, **Sá»• cÃ¡i PhÃ¢n tÃ¡n** (Distributed Ledger) Ä‘Æ°á»£c chia sáº» vÃ  Ä‘á»“ng bá»™ hÃ³a trÃªn toÃ n bá»™ máº¡ng lÆ°á»›i. Äiá»u nÃ y mang láº¡i hai Ä‘áº·c tÃ­nh quan trá»ng. Thá»© nháº¥t lÃ  **tÃ­nh minh báº¡ch**: má»i giao dá»‹ch Ä‘á»u cÃ´ng khai, ai cÅ©ng cÃ³ thá»ƒ kiá»ƒm tra. Thá»© hai lÃ  **tÃ­nh báº¥t biáº¿n** (Immutability): má»™t khi giao dá»‹ch Ä‘Ã£ Ä‘Æ°á»£c ghi vÃ o sá»•, nÃ³ khÃ´ng thá»ƒ bá»‹ xÃ³a hay sá»­a Ä‘á»•i. HÃ£y nghÄ© vá» viá»‡c viáº¿t báº±ng bÃºt má»±c vÃ o má»™t cuá»‘n sá»• Ä‘Æ°á»£c photocopy ra hÃ ng nghÃ¬n báº£n ngay láº­p tá»©c. Muá»‘n sá»­a má»™t chá»¯? Báº¡n pháº£i thay Ä‘á»•i táº¥t cáº£ cÃ¡c báº£n sao cÃ¹ng lÃºc, Ä‘iá»u gáº§n nhÆ° báº¥t kháº£ thi.

### HÃ m BÄƒm vÃ  Máº­t mÃ£ há»c - Dáº¥u VÃ¢n Tay Sá»‘

**HÃ m BÄƒm** (Hashing) lÃ  trÃ¡i tim cá»§a báº£o máº­t Blockchain. ÄÃ¢y lÃ  má»™t thuáº­t toÃ¡n biáº¿n Ä‘á»•i báº¥t ká»³ thÃ´ng tin nÃ o, dÃ¹ lÃ  má»™t chá»¯ cÃ¡i hay má»™t bá»™ phim dÃ i hÃ ng giá», thÃ nh má»™t chuá»—i kÃ½ tá»± cÃ³ Ä‘á»™ dÃ i cá»‘ Ä‘á»‹nh. Thuáº­t toÃ¡n phá»• biáº¿n nháº¥t lÃ  **SHA-256**, luÃ´n cho ra káº¿t quáº£ lÃ  má»™t chuá»—i gá»“m 64 kÃ½ tá»±.

Äiá»u ká»³ diá»‡u á»Ÿ Ä‘Ã¢y lÃ : náº¿u báº¡n thay Ä‘á»•i dÃ¹ chá»‰ má»™t dáº¥u cháº¥m trong dá»¯ liá»‡u gá»‘c, chuá»—i bÄƒm Ä‘áº§u ra sáº½ hoÃ n toÃ n khÃ¡c biá»‡t. Äiá»u nÃ y giá»‘ng nhÆ° dáº¥u vÃ¢n tay cá»§a con ngÆ°á»i: má»—i ngÆ°á»i cÃ³ má»™t dáº¥u vÃ¢n tay duy nháº¥t, vÃ  báº¡n khÃ´ng thá»ƒ suy ngÆ°á»£c tá»« dáº¥u vÃ¢n tay Ä‘á»ƒ tÃ¡i táº¡o toÃ n bá»™ cÆ¡ thá»ƒ. Blockchain sá»­ dá»¥ng Ä‘áº·c tÃ­nh nÃ y Ä‘á»ƒ liÃªn káº¿t cÃ¡c khá»‘i dá»¯ liá»‡u vá»›i nhau vÃ  phÃ¡t hiá»‡n báº¥t ká»³ sá»± giáº£ máº¡o nÃ o.

**CÃ¢y Merkle** (Merkle Tree) lÃ  má»™t cáº¥u trÃºc dá»¯ liá»‡u hÃ¬nh cÃ¢y Ä‘Æ°á»£c xÃ¢y dá»±ng tá»« cÃ¡c giÃ¡ trá»‹ bÄƒm. HÃ£y hÃ¬nh dung báº¡n cÃ³ má»™t ngÃ n giao dá»‹ch cáº§n xÃ¡c thá»±c. Thay vÃ¬ kiá»ƒm tra tá»«ng giao dá»‹ch má»™t, báº¡n cÃ³ thá»ƒ bÄƒm chÃºng theo cáº·p, rá»“i bÄƒm cÃ¡c káº¿t quáº£ theo cáº·p tiáº¿p, cho Ä‘áº¿n khi cÃ²n láº¡i má»™t giÃ¡ trá»‹ duy nháº¥t gá»i lÃ  **Root Hash**. Náº¿u cÃ³ báº¥t ká»³ giao dá»‹ch nÃ o bá»‹ thay Ä‘á»•i, Root Hash sáº½ khÃ¡c Ä‘i, giÃºp phÃ¡t hiá»‡n gian láº­n nhanh chÃ³ng.

---

## CHÆ¯Æ NG 2: NGÃ”N NGá»® Cá»¦A Há»¢P Äá»’NG (SMART CONTRACTS - CÆ  Báº¢N)

Náº¿u Blockchain lÃ  ná»n mÃ³ng, thÃ¬ **Smart Contract** (Há»£p Ä‘á»“ng ThÃ´ng minh) chÃ­nh lÃ  nhá»¯ng tÃ²a nhÃ  Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn Ä‘Ã³. ÄÃ¢y lÃ  nhá»¯ng Ä‘oáº¡n mÃ£ tá»± Ä‘á»™ng thá»±c thi khi cÃ¡c Ä‘iá»u kiá»‡n Ä‘Æ°á»£c Ä‘Ã¡p á»©ng, giá»‘ng nhÆ° má»™t chiáº¿c mÃ¡y bÃ¡n nÆ°á»›c tá»± Ä‘á»™ng: báº¡n bá» tiá»n vÃ o, chá»n sáº£n pháº©m, vÃ  mÃ¡y tá»± Ä‘á»™ng Ä‘Æ°a nÆ°á»›c cho báº¡n mÃ  khÃ´ng cáº§n ngÆ°á»i bÃ¡n hÃ ng.

### Smart Contract - Loáº¡i bá» BÃªn Trung gian

HÃ£y tÆ°á»Ÿng tÆ°á»£ng báº¡n muá»‘n thuÃª má»™t cuá»‘n sÃ¡ch quÃ½ tá»« má»™t ngÆ°á»i láº¡. Theo cÃ¡ch truyá»n thá»‘ng, báº¡n cáº§n má»™t bÃªn thá»© ba Ä‘Ã¡ng tin cáº­y nhÆ° thÆ° viá»‡n Ä‘á»ƒ Ä‘áº£m báº£o ráº±ng báº¡n sáº½ tráº£ sÃ¡ch vÃ  ngÆ°á»i cho thuÃª sáº½ nháº­n Ä‘Æ°á»£c tiá»n. Smart Contract thay tháº¿ vai trÃ² nÃ y: báº¡n gá»­i tiá»n cá»c vÃ o há»£p Ä‘á»“ng, ngÆ°á»i cho thuÃª gá»­i thÃ´ng tin sÃ¡ch. Khi báº¡n tráº£ sÃ¡ch Ä‘Ãºng háº¡n, há»£p Ä‘á»“ng tá»± Ä‘á»™ng hoÃ n tráº£ tiá»n cá»c. KhÃ´ng cáº§n tin tÆ°á»Ÿng ai, chá»‰ cáº§n tin tÆ°á»Ÿng vÃ o Ä‘oáº¡n mÃ£ Ä‘Ã£ Ä‘Æ°á»£c kiá»ƒm chá»©ng.

Äáº·c tÃ­nh nÃ y Ä‘Æ°á»£c gá»i lÃ  **Trustless** (khÃ´ng cáº§n tin tÆ°á»Ÿng). Nghe cÃ³ váº» mÃ¢u thuáº«n, nhÆ°ng thá»±c cháº¥t nÃ³ cÃ³ nghÄ©a lÃ  báº¡n khÃ´ng cáº§n Ä‘áº·t niá»m tin vÃ o con ngÆ°á»i hay tá»• chá»©c, mÃ  tin vÃ o toÃ¡n há»c vÃ  máº­t mÃ£ há»c.

### EVM vÃ  Solidity - NgÃ´n ngá»¯ vÃ  MÃ¡y Thá»±c thi

**Solidity** lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘Æ°á»£c  káº¿ riÃªng Ä‘á»ƒ viáº¿t Smart Contract. Náº¿u Smart Contract lÃ  má»™t cÃ´ng thá»©c náº¥u Äƒn, thÃ¬ Solidity lÃ  ngÃ´n ngá»¯ mÃ  Ä‘áº§u báº¿p dÃ¹ng Ä‘á»ƒ viáº¿t ra cÃ´ng thá»©c Ä‘Ã³.

**EVM** (Ethereum Virtual Machine) lÃ  "mÃ¡y tÃ­nh áº£o" thá»±c thi cÃ¡c Smart Contract. Báº¡n cÃ³ thá»ƒ hÃ¬nh dung EVM nhÆ° má»™t dÃ n báº¿p Ä‘Æ°á»£c sao chÃ©p ra hÃ ng nghÃ¬n báº£n giá»‘ng há»‡t nhau, Ä‘áº·t táº¡i nhÃ  cá»§a má»—i node trÃªn toÃ n tháº¿ giá»›i. Khi cÃ³ má»™t lá»‡nh náº¥u Äƒn (gá»i Smart Contract), táº¥t cáº£ cÃ¡c báº¿p Ä‘á»u náº¥u cÃ¹ng má»™t cÃ´ng thá»©c vÃ  pháº£i cho ra cÃ¹ng má»™t mÃ³n Äƒn. Äáº·c tÃ­nh nÃ y gá»i lÃ  **Deterministic** (tÃ­nh táº¥t Ä‘á»‹nh), Ä‘áº£m báº£o ráº±ng dÃ¹ báº¡n há»i báº¥t ká»³ node nÃ o, báº¡n cÅ©ng nháº­n Ä‘Æ°á»£c cÃ¹ng má»™t káº¿t quáº£.

### Gas - NhiÃªn liá»‡u cá»§a Blockchain

KhÃ´ng cÃ³ gÃ¬ lÃ  miá»…n phÃ­, ká»ƒ cáº£ trong tháº¿ giá»›i sá»‘. **Gas** lÃ  Ä‘Æ¡n vá»‹ Ä‘o lÆ°á»ng cÃ´ng nÄƒng tÃ­nh toÃ¡n cáº§n thiáº¿t Ä‘á»ƒ thá»±c hiá»‡n má»™t thao tÃ¡c trÃªn Blockchain. Gá»­i má»™t giao dá»‹ch Ä‘Æ¡n giáº£n cÃ³ thá»ƒ tá»‘n Ã­t gas, nhÆ°ng thá»±c thi má»™t há»£p Ä‘á»“ng phá»©c táº¡p vá»›i nhiá»u phÃ©p tÃ­nh sáº½ tá»‘n nhiá»u gas hÆ¡n.

**Gwei** lÃ  Ä‘Æ¡n vá»‹ tiá»n tá»‡ nhá» dÃ¹ng Ä‘á»ƒ tráº£ phÃ­ gas. Tá»•ng chi phÃ­ báº¡n tráº£ Ä‘Æ°á»£c tÃ­nh báº±ng cÃ´ng thá»©c: Sá»‘ gas tiÃªu thá»¥ nhÃ¢n vá»›i GiÃ¡ gas (tÃ­nh báº±ng Gwei). Trong nhá»¯ng lÃºc máº¡ng lÆ°á»›i Ä‘Ã´ng Ä‘Ãºc, giÃ¡ gas tÄƒng cao. ÄÃ¢y lÃ  cÆ¡ cháº¿ thá»‹ trÆ°á»ng tá»± nhiÃªn Ä‘á»ƒ phÃ¢n bá»• tÃ i nguyÃªn há»¯u háº¡n.

VÃ²ng Ä‘á»i cá»§a má»™t giao dá»‹ch tráº£i qua ba giai Ä‘oáº¡n chÃ­nh. Äáº§u tiÃªn, ngÆ°á»i dÃ¹ng kÃ½ giao dá»‹ch báº±ng khÃ³a riÃªng tÆ° cá»§a mÃ¬nh, giá»‘ng nhÆ° kÃ½ tÃªn vÃ o má»™t tá» sÃ©c. Tiáº¿p theo, máº¡ng lÆ°á»›i cÃ¡c node xÃ¡c thá»±c tÃ­nh há»£p lá»‡ cá»§a chá»¯ kÃ½ vÃ  kiá»ƒm tra sá»‘ dÆ°. Cuá»‘i cÃ¹ng, giao dá»‹ch Ä‘Æ°á»£c ghi vÃ o má»™t khá»‘i má»›i vÃ  trá»Ÿ thÃ nh má»™t pháº§n vÄ©nh viá»…n cá»§a sá»• cÃ¡i.

### Quáº£n lÃ½ Tráº¡ng thÃ¡i - Bá»™ Nhá»› cá»§a Blockchain

**State** (Tráº¡ng thÃ¡i) lÃ  táº­p há»£p táº¥t cáº£ dá»¯ liá»‡u hiá»‡n táº¡i Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn Blockchain: ai sá»Ÿ há»¯u bao nhiÃªu tiá»n, cuá»‘n sÃ¡ch nÃ o Ä‘ang Ä‘Æ°á»£c cho thuÃª, Ä‘iá»ƒm uy tÃ­n cá»§a ngÆ°á»i dÃ¹ng lÃ  bao nhiÃªu.

CÃ³ hai loáº¡i bá»™ nhá»› trong Smart Contract. **Storage** lÃ  bá»™ nhá»› vÄ©nh viá»…n, Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn Blockchain mÃ£i mÃ£i. Chi phÃ­ ghi vÃ o Storage ráº¥t Ä‘áº¯t Ä‘á» vÃ¬ dá»¯ liá»‡u nÃ y pháº£i Ä‘Æ°á»£c sao chÃ©p Ä‘áº¿n hÃ ng nghÃ¬n node. **Memory** vÃ  **Calldata** lÃ  bá»™ nhá»› táº¡m thá»i, chá»‰ tá»“n táº¡i trong thá»i gian má»™t hÃ m Ä‘Æ°á»£c thá»±c thi, giá»‘ng nhÆ° nhÃ¡p trong Ä‘áº§u khi báº¡n tÃ­nh toÃ¡n trÆ°á»›c khi viáº¿t káº¿t quáº£ lÃªn giáº¥y.

---

## CHÆ¯Æ NG 3: CÃC TIÃŠU CHUáº¨N VÃ€ MáºªU THIáº¾T Káº¾ (SMART CONTRACTS - NÃ‚NG CAO)

Khi hÃ ng nghÃ¬n nhÃ  phÃ¡t triá»ƒn cÃ¹ng xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng trÃªn Blockchain, sá»± há»—n loáº¡n sáº½ xáº£y ra náº¿u má»—i ngÆ°á»i lÃ m theo cÃ¡ch riÃªng. ÄÃ³ lÃ  lÃ½ do cÃ¡c **TiÃªu chuáº©n** (Standards) vÃ  **Máº«u Thiáº¿t káº¿** (Design Patterns) ra Ä‘á»i, Ä‘Ã³ng vai trÃ² nhÆ° quy hoáº¡ch Ä‘Ã´ thá»‹ giÃºp cÃ¡c tÃ²a nhÃ  cÃ³ thá»ƒ káº¿t ná»‘i vá»›i nhau qua Ä‘Æ°á»ng sÃ¡, Ä‘iá»‡n nÆ°á»›c thá»‘ng nháº¥t.

### ERC Standards - NgÃ´n ngá»¯ Chung cá»§a Token

**ERC** lÃ  viáº¿t táº¯t cá»§a Ethereum Request for Comments. ÄÃ¢y lÃ  cÃ¡c tiÃªu chuáº©n giao diá»‡n giÃºp Smart Contracts "nÃ³i chuyá»‡n" Ä‘Æ°á»£c vá»›i nhau vÃ  vá»›i cÃ¡c á»©ng dá»¥ng vÃ­, sÃ n giao dá»‹ch.

**ERC-20** lÃ  tiÃªu chuáº©n cho token cÃ³ thá»ƒ thay tháº¿, giá»‘ng nhÆ° tiá»n tá»‡. Má»™t Ä‘á»“ng Bitcoin cá»§a báº¡n cÃ³ giÃ¡ trá»‹ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i má»™t Ä‘á»“ng Bitcoin cá»§a tÃ´i. Trong dá»± Ã¡n VinaLib, token thanh toÃ¡n SuChinToken tuÃ¢n theo chuáº©n nÃ y. Nhá» ERC-20, báº¥t ká»³ vÃ­ Ethereum nÃ o cÅ©ng cÃ³ thá»ƒ hiá»ƒn thá»‹ vÃ  chuyá»ƒn SuChinToken mÃ  khÃ´ng cáº§n viáº¿t thÃªm mÃ£ Ä‘áº·c biá»‡t.

**ERC-721** lÃ  tiÃªu chuáº©n cho token khÃ´ng thá»ƒ thay tháº¿, hay cÃ²n gá»i lÃ  **NFT** (Non-Fungible Token). Má»—i NFT lÃ  duy nháº¥t, giá»‘ng nhÆ° má»™t tÃ¡c pháº©m nghá»‡ thuáº­t nguyÃªn báº£n. Trong VinaLib, má»—i cuá»‘n sÃ¡ch váº­t lÃ½ Ä‘Æ°á»£c Ä‘áº¡i diá»‡n bá»Ÿi má»™t NFT riÃªng biá»‡t (BookAsset), cÃ³ ID duy nháº¥t vÃ  khÃ´ng thá»ƒ Ä‘Ã¡nh Ä‘á»“ng vá»›i cuá»‘n sÃ¡ch khÃ¡c.

**ERC-4907** lÃ  má»™t chuáº©n má»Ÿ rá»™ng quan trá»ng cho viá»‡c cho thuÃª NFT. Chuáº©n nÃ y phÃ¢n biá»‡t rÃµ rÃ ng giá»¯a **ngÆ°á»i sá»Ÿ há»¯u** (Owner) vÃ  **ngÆ°á»i sá»­ dá»¥ng** (User). Chá»§ sá»Ÿ há»¯u váº«n giá»¯ quyá»n sá»Ÿ há»¯u NFT nhÆ°ng táº¡m thá»i cáº¥p quyá»n sá»­ dá»¥ng cho ngÆ°á»i khÃ¡c trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh. Khi háº¿t háº¡n, quyá»n sá»­ dá»¥ng tá»± Ä‘á»™ng thu há»“i. ÄÃ¢y chÃ­nh lÃ  cÆ¡ cháº¿ cá»‘t lÃµi cho tÃ­nh nÄƒng cho thuÃª sÃ¡ch trong VinaLib.

### Design Patterns - Kiáº¿n trÃºc An toÃ n

**Ownable** lÃ  máº«u thiáº¿t káº¿ quáº£n lÃ½ quyá»n kiá»ƒm soÃ¡t. HÃ£y tÆ°á»Ÿng tÆ°á»£ng má»™t cÄƒn nhÃ  cÃ³ má»™t chÃ¬a khÃ³a chá»§: chá»‰ ngÆ°á»i giá»¯ chÃ¬a khÃ³a nÃ y má»›i cÃ³ thá»ƒ thá»±c hiá»‡n cÃ¡c thao tÃ¡c quan trá»ng nhÆ° thay Ä‘á»•i cáº¥u hÃ¬nh hoáº·c dá»«ng há»‡ thá»‘ng kháº©n cáº¥p. Trong VinaLib, chá»‰ Admin má»›i cÃ³ quyá»n táº¡o NFT sÃ¡ch má»›i, xÃ¡c minh tÃ¬nh tráº¡ng sÃ¡ch, hoáº·c duyá»‡t cÃ¡c yÃªu cáº§u thuÃª Ä‘áº·c biá»‡t.

**Pausable** lÃ  máº«u thiáº¿t káº¿ "ngáº¯t máº¡ch kháº©n cáº¥p". Giá»‘ng nhÆ° cáº§u dao Ä‘iá»‡n trong nhÃ , khi phÃ¡t hiá»‡n sá»± cá»‘ hoáº·c bá»‹ táº¥n cÃ´ng, Admin cÃ³ thá»ƒ táº¡m dá»«ng toÃ n bá»™ hoáº¡t Ä‘á»™ng cá»§a Smart Contract Ä‘á»ƒ ngÄƒn cháº·n thiá»‡t háº¡i lan rá»™ng. Sau khi sá»± cá»‘ Ä‘Æ°á»£c giáº£i quyáº¿t, há»‡ thá»‘ng cÃ³ thá»ƒ Ä‘Æ°á»£c khá»Ÿi Ä‘á»™ng láº¡i.

**Inheritance** (Káº¿ thá»«a) lÃ  cÆ¡ cháº¿ cho phÃ©p má»™t Smart Contract thá»«a hÆ°á»Ÿng cÃ¡c tÃ­nh nÄƒng tá»« má»™t Smart Contract khÃ¡c, giá»‘ng nhÆ° con thá»«a káº¿ Ä‘áº·c Ä‘iá»ƒm tá»« cha máº¹. Thay vÃ¬ viáº¿t láº¡i tá»« Ä‘áº§u cÃ¡c tÃ­nh nÄƒng báº£o máº­t, nhÃ  phÃ¡t triá»ƒn cÃ³ thá»ƒ káº¿ thá»«a tá»« cÃ¡c thÆ° viá»‡n Ä‘Ã£ Ä‘Æ°á»£c kiá»ƒm Ä‘á»‹nh nhÆ° OpenZeppelin, giáº£m thiá»ƒu lá»—i vÃ  tÄƒng Ä‘á»™ tin cáº­y.

### Soulbound Token - Danh tÃ­nh Sá»‘ KhÃ´ng Thá»ƒ Chuyá»ƒn nhÆ°á»£ng

**SBT** (Soulbound Token) lÃ  má»™t dáº¡ng NFT Ä‘áº·c biá»‡t, Ä‘Æ°á»£c "gáº¯n liá»n vá»›i linh há»“n" cá»§a chá»§ sá»Ÿ há»¯u. KhÃ¡c vá»›i NFT thÃ´ng thÆ°á»ng cÃ³ thá»ƒ mua bÃ¡n trao Ä‘á»•i, SBT khÃ´ng thá»ƒ chuyá»ƒn nhÆ°á»£ng cho ngÆ°á»i khÃ¡c.

HÃ£y nghÄ© vá» báº±ng Ä‘áº¡i há»c cá»§a báº¡n: nÃ³ chá»©ng minh ráº±ng báº¡n Ä‘Ã£ hoÃ n thÃ nh chÆ°Æ¡ng trÃ¬nh há»c, nhÆ°ng báº¡n khÃ´ng thá»ƒ bÃ¡n táº¥m báº±ng nÃ y cho ngÆ°á»i khÃ¡c. Trong VinaLib, má»—i há»£p Ä‘á»“ng thuÃª sÃ¡ch Ä‘Æ°á»£c Ä‘áº¡i diá»‡n bá»Ÿi má»™t SBT (RentalAgreementSBT). Token nÃ y chá»©ng minh ráº±ng ngÆ°á»i dÃ¹ng Ä‘Ã£ kÃ½ káº¿t thá»a thuáº­n, vÃ  lá»‹ch sá»­ thuÃª sÃ¡ch cá»§a há» Ä‘Æ°á»£c ghi láº¡i vÄ©nh viá»…n Ä‘á»ƒ xÃ¢y dá»±ng Ä‘iá»ƒm uy tÃ­n.

---

## CHÆ¯Æ NG 4: LÆ¯U TRá»® Dá»® LIá»†U PHI Táº¬P TRUNG (IPFS)

Blockchain ráº¥t phÃ¹ há»£p Ä‘á»ƒ lÆ°u trá»¯ cÃ¡c giao dá»‹ch vÃ  tráº¡ng thÃ¡i, nhÆ°ng lÆ°u trá»¯ file lá»›n nhÆ° áº£nh bÃ¬a sÃ¡ch hay tÃ i liá»‡u trÃªn Ä‘Ã³ lÃ  khÃ´ng kháº£ thi vá» máº·t chi phÃ­. **IPFS** (InterPlanetary File System) ra Ä‘á»i Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y.

### Content Addressing - Äá»‹nh danh báº±ng Ná»™i dung

Há»‡ thá»‘ng lÆ°u trá»¯ truyá»n thá»‘ng sá»­ dá»¥ng Ä‘á»‹a chá»‰ vá»‹ trÃ­ Ä‘á»ƒ tÃ¬m file. Khi báº¡n truy cáº­p má»™t trang web, báº¡n há»i mÃ¡y chá»§ táº¡i Ä‘á»‹a chá»‰ cá»¥ thá»ƒ: "Cho tÃ´i file náº±m á»Ÿ thÆ° má»¥c nÃ y". Váº¥n Ä‘á» lÃ  náº¿u mÃ¡y chá»§ Ä‘Ã³ ngá»«ng hoáº¡t Ä‘á»™ng, báº¡n máº¥t quyá»n truy cáº­p dÃ¹ file cÃ³ thá»ƒ tá»“n táº¡i á»Ÿ nÆ¡i khÃ¡c.

IPFS sá»­ dá»¥ng **Content Addressing** (Ä‘á»‹nh danh theo ná»™i dung). Thay vÃ¬ há»i "file á»Ÿ Ä‘Ã¢u", báº¡n há»i "ai cÃ³ file cÃ³ ná»™i dung nÃ y". Má»—i file Ä‘Æ°á»£c gÃ¡n má»™t mÃ£ Ä‘á»‹nh danh duy nháº¥t gá»i lÃ  **CID** (Content Identifier), Ä‘Æ°á»£c táº¡o ra báº±ng cÃ¡ch bÄƒm ná»™i dung cá»§a file. Náº¿u hai file giá»‘ng há»‡t nhau byte-by-byte, chÃºng sáº½ cÃ³ cÃ¹ng CID. Náº¿u thay Ä‘á»•i dÃ¹ chá»‰ má»™t bit, CID sáº½ hoÃ n toÃ n khÃ¡c.

### LÆ°u trá»¯ Ngang hÃ ng (P2P)

IPFS hoáº¡t Ä‘á»™ng theo mÃ´ hÃ¬nh ngang hÃ ng (Peer-to-Peer). Khi báº¡n táº£i má»™t file lÃªn IPFS, file Ä‘Ã³ khÃ´ng Ä‘Æ°á»£c gá»­i Ä‘áº¿n má»™t mÃ¡y chá»§ trung tÃ¢m mÃ  Ä‘Æ°á»£c chia nhá» vÃ  phÃ¢n tÃ¡n trÃªn nhiá»u node trong máº¡ng lÆ°á»›i. Khi ai Ä‘Ã³ yÃªu cáº§u file báº±ng CID, máº¡ng lÆ°á»›i sáº½ tÃ¬m vÃ  ghÃ©p cÃ¡c máº£nh tá»« cÃ¡c node gáº§n nháº¥t.

Äiá»u nÃ y mang láº¡i hai lá»£i Ã­ch quan trá»ng. Thá»© nháº¥t lÃ  kháº£ nÄƒng chá»‘ng kiá»ƒm duyá»‡t: khÃ´ng ai cÃ³ thá»ƒ xÃ³a file khá»i máº¡ng lÆ°á»›i vÃ¬ khÃ´ng cÃ³ mÃ¡y chá»§ trung tÃ¢m Ä‘á»ƒ táº¥n cÃ´ng. Thá»© hai lÃ  tÄƒng tá»‘c Ä‘á»™ táº£i: file cÃ³ thá»ƒ Ä‘Æ°á»£c láº¥y tá»« nhiá»u nguá»“n cÃ¹ng lÃºc, giá»‘ng nhÆ° táº£i torrent.

### Gateway vÃ  Pinning

**IPFS Gateway** lÃ  cáº§u ná»‘i giÃºp cÃ¡c trÃ¬nh duyá»‡t web thÃ´ng thÆ°á»ng truy cáº­p ná»™i dung IPFS mÃ  khÃ´ng cáº§n cÃ i Ä‘áº·t pháº§n má»m Ä‘áº·c biá»‡t. Báº¡n cÃ³ thá»ƒ truy cáº­p má»™t file IPFS thÃ´ng qua URL dáº¡ng "ipfs.io/ipfs/CID" nhÆ° truy cáº­p báº¥t ká»³ website nÃ o.

**Pinning** lÃ  hÃ nh Ä‘á»™ng "ghim" dá»¯ liá»‡u táº¡i má»™t hoáº·c nhiá»u node cá»¥ thá»ƒ. Theo máº·c Ä‘á»‹nh, cÃ¡c node IPFS sáº½ tá»± Ä‘á»™ng xÃ³a dá»¯ liá»‡u Ã­t Ä‘Æ°á»£c truy cáº­p Ä‘á»ƒ giáº£i phÃ³ng bá»™ nhá»› (Garbage Collection). Náº¿u báº¡n muá»‘n Ä‘áº£m báº£o dá»¯ liá»‡u luÃ´n kháº£ dá»¥ng, báº¡n cáº§n "ghim" nÃ³, hoáº·c sá»­ dá»¥ng cÃ¡c dá»‹ch vá»¥ Pinning chuyÃªn nghiá»‡p nhÆ° Pinata hay Infura.

---

## CHÆ¯Æ NG 5: Há»† THá»NG TIÃŠN TOÃN (CHAINLINK ORACLE)

Smart Contract trÃªn Blockchain cÃ³ má»™t háº¡n cháº¿ lá»›n: chÃºng sá»‘ng trong má»™t "bong bÃ³ng" khÃ©p kÃ­n, khÃ´ng thá»ƒ tá»± gá»i API bÃªn ngoÃ i hay láº¥y dá»¯ liá»‡u tá»« tháº¿ giá»›i thá»±c. LÃ m sao Smart Contract biáº¿t Ä‘Æ°á»£c giÃ¡ vÃ ng hÃ´m nay? LÃ m sao xÃ¡c nháº­n má»™t cuá»‘n sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c tráº£? ÄÃ¢y lÃ  nÆ¡i **Oracle** xuáº¥t hiá»‡n.

### Oracle Problem - BÃ i toÃ¡n Káº¿t ná»‘i

**Oracle Problem** (BÃ i toÃ¡n TiÃªn toÃ¡n) mÃ´ táº£ thÃ¡ch thá»©c cá»‘t lÃµi: lÃ m sao Ä‘Æ°a dá»¯ liá»‡u bÃªn ngoÃ i vÃ o Blockchain má»™t cÃ¡ch Ä‘Ã¡ng tin cáº­y? Náº¿u chá»‰ cÃ³ má»™t nguá»“n dá»¯ liá»‡u duy nháº¥t, nguá»“n Ä‘Ã³ cÃ³ thá»ƒ bá»‹ lá»—i hoáº·c bá»‹ thao tÃºng. Náº¿u Smart Contract dá»±a vÃ o dá»¯ liá»‡u sai, má»i quyáº¿t Ä‘á»‹nh cá»§a nÃ³ Ä‘á»u sai theo.

HÃ£y tÆ°á»Ÿng tÆ°á»£ng má»™t há»£p Ä‘á»“ng báº£o hiá»ƒm nÃ´ng nghiá»‡p tráº£ tiá»n tá»± Ä‘á»™ng khi cÃ³ háº¡n hÃ¡n. LÃ m sao Smart Contract biáº¿t Ä‘Æ°á»£c lÆ°á»£ng mÆ°a á»Ÿ má»™t vÃ¹ng nÃ´ng thÃ´n? NÃ³ khÃ´ng thá»ƒ tá»± Ä‘o, mÃ  pháº£i tin tÆ°á»Ÿng vÃ o má»™t nguá»“n dá»¯ liá»‡u bÃªn ngoÃ i.

### Chainlink - Máº¡ng lÆ°á»›i Oracle Phi táº­p trung

**Chainlink** giáº£i quyáº¿t Oracle Problem báº±ng cÃ¡ch táº¡o ra má»™t máº¡ng lÆ°á»›i Oracle phi táº­p trung (Decentralized Oracle Network, viáº¿t táº¯t lÃ  DON). Thay vÃ¬ tin tÆ°á»Ÿng má»™t nguá»“n duy nháº¥t, Chainlink thu tháº­p dá»¯ liá»‡u tá»« nhiá»u nguá»“n Ä‘á»™c láº­p, so sÃ¡nh vÃ  tá»•ng há»£p Ä‘á»ƒ Ä‘Æ°a ra káº¿t quáº£ Ä‘Ã¡ng tin cáº­y.

HÃ£y nghÄ© vá» nÃ³ nhÆ° má»™t phiÃªn tÃ²a: thay vÃ¬ chá»‰ nghe má»™t nhÃ¢n chá»©ng, báº¡n nghe nhiá»u nhÃ¢n chá»©ng Ä‘á»™c láº­p vÃ  Ä‘á»‘i chiáº¿u lá»i khai cá»§a há». Náº¿u Ä‘a sá»‘ Ä‘á»“ng Ã½, káº¿t quáº£ Ä‘Æ°á»£c cháº¥p nháº­n. Náº¿u cÃ³ sá»± báº¥t nháº¥t Ä‘Ã¡ng ngá», há»‡ thá»‘ng sáº½ cáº£nh bÃ¡o.

### Data Feeds - Nguá»“n Dá»¯ liá»‡u Sáºµn cÃ³

Thay vÃ¬ tá»± request dá»¯ liá»‡u má»—i láº§n cáº§n (tá»‘n gas, cháº­m), báº¡n cÃ³ thá»ƒ Ä‘á»c tá»« "báº£ng giÃ¡ cÃ´ng khai" mÃ  Chainlink cáº­p nháº­t liÃªn tá»¥c sáºµn. VÃ­ dá»¥, giÃ¡ cáº£ cá»§a Ethereum so vá»›i USD Ä‘Æ°á»£c cáº­p nháº­t má»—i khi cÃ³ sá»± thay Ä‘á»•i lá»›n hÆ¡n ná»­a pháº§n trÄƒm hoáº·c má»—i giá» má»™t láº§n. Smart Contract cá»§a báº¡n chá»‰ cáº§n Ä‘á»c giÃ¡ trá»‹ má»›i nháº¥t mÃ  khÃ´ng cáº§n tá»‘n phÃ­ gá»­i request riÃªng.

### VRF - Sá»‘ Ngáº«u nhiÃªn CÃ³ thá»ƒ Kiá»ƒm chá»©ng

**VRF** (Verifiable Random Function) táº¡o sá»‘ ngáº«u nhiÃªn "cÃ´ng báº±ng khÃ´ng thá»ƒ gian láº­n" cho blockchain. Blockchain khÃ´ng thá»ƒ tá»± táº¡o random vÃ¬ má»i thá»© Ä‘á»u deterministic (ai cÅ©ng tÃ­nh ra Ä‘Æ°á»£c káº¿t quáº£). Viá»‡c sá»­ dá»¥ng thá»i gian block hay block hash cÃ³ thá»ƒ bá»‹ thao tÃºng bá»Ÿi miners.

Chainlink VRF sá»­ dá»¥ng máº­t mÃ£ há»c Ä‘á»ƒ táº¡o ra sá»‘ ngáº«u nhiÃªn kÃ¨m theo báº±ng chá»©ng toÃ¡n há»c (proof). Báº¥t ká»³ ai cÅ©ng cÃ³ thá»ƒ verify on-chain ráº±ng sá»‘ Ä‘Ã³ Ä‘Æ°á»£c táº¡o ra Ä‘Ãºng cÃ¡ch vÃ  khÃ´ng thá»ƒ dá»± Ä‘oÃ¡n trÆ°á»›c. Äiá»u nÃ y quan trá»ng cho xá»• sá»‘, game, NFT vá»›i Ä‘áº·c Ä‘iá»ƒm ngáº«u nhiÃªn, hay báº¥t cá»© á»©ng dá»¥ng nÃ o cáº§n tÃ­nh cÃ´ng báº±ng.

### Automation - Robot Tá»± Ä‘á»™ng

Smart contracts khÃ´ng thá»ƒ tá»± Ä‘á»™ng cháº¡y. Cáº§n cÃ³ ai Ä‘Ã³ (hoáº·c cÃ¡i gÃ¬ Ä‘Ã³) gá»i function Ä‘á»ƒ kÃ­ch hoáº¡t. **Chainlink Automation** (trÆ°á»›c Ä‘Ã¢y gá»i lÃ  Keepers) = "robot" tá»± Ä‘á»™ng gá»i function theo Ä‘iá»u kiá»‡n.

VÃ­ dá»¥, má»™t DeFi Yield Farm cáº§n distribute rewards má»—i hai mÆ°Æ¡i bá»‘n giá». Thay vÃ¬ Admin pháº£i nhá»› gá»i hÃ m má»—i ngÃ y (rá»§i ro quÃªn), Chainlink Automation tá»± Ä‘á»™ng kiá»ƒm tra Ä‘iá»u kiá»‡n (Ä‘Ã£ Ä‘á»§ hai mÆ°Æ¡i bá»‘n giá» chÆ°a?) vÃ  tá»± Ä‘á»™ng thá»±c thi function khi Ä‘iá»u kiá»‡n Ä‘Æ°á»£c Ä‘Ã¡p á»©ng. KhÃ´ng cáº§n can thiá»‡p thá»§ cÃ´ng, há»‡ thá»‘ng hoáº¡t Ä‘á»™ng liÃªn tá»¥c báº£y ngÃ y trong tuáº§n.

### Functions - Thá»±c thi Code TÃ¹y chá»‰nh

**Chainlink Functions** cho phÃ©p smart contract cháº¡y **báº¥t ká»³ code JavaScript nÃ o** bÃªn ngoÃ i blockchain, sau Ä‘Ã³ tráº£ káº¿t quáº£ vá» on-chain. ÄÃ¢y lÃ  cÃ´ng cá»¥ máº¡nh máº½ hÆ¡n oracle truyá»n thá»‘ng (chá»‰ láº¥y dá»¯ liá»‡u sáºµn cÃ³), vÃ¬ báº¡n cÃ³ thá»ƒ xá»­ lÃ½, tÃ­nh toÃ¡n, káº¿t há»£p nhiá»u APIs.

VÃ­ dá»¥, trong VinaLib, báº¡n cÃ³ thá»ƒ viáº¿t code JavaScript Ä‘á»ƒ láº¥y lá»‹ch sá»­ thuÃª sÃ¡ch tá»« cÆ¡ sá»Ÿ dá»¯ liá»‡u off-chain, tÃ­nh toÃ¡n Ä‘iá»ƒm uy tÃ­n dá»±a trÃªn nhiá»u yáº¿u tá»‘ (tráº£ sÃ¡ch Ä‘Ãºng háº¡n, tÃ¬nh tráº¡ng sÃ¡ch khi tráº£, sá»‘ láº§n thuÃª...), rá»“i tráº£ káº¿t quáº£ vá» Smart Contract Ä‘á»ƒ quyáº¿t Ä‘á»‹nh cÃ³ auto-approve yÃªu cáº§u thuÃª má»›i hay khÃ´ng.

Functions cÅ©ng cÃ³ kháº£ nÄƒng xá»­ lÃ½ secrets (API keys, passwords) má»™t cÃ¡ch an toÃ n. Báº¡n mÃ£ hÃ³a secrets trÆ°á»›c khi gá»­i, vÃ  chá»‰ cÃ¡c node trong Decentralized Oracle Network má»›i cÃ³ thá»ƒ giáº£i mÃ£ trong mÃ´i trÆ°á»ng báº£o máº­t (Trusted Execution Environment). Äiá»u nÃ y cho phÃ©p káº¿t ná»‘i vá»›i cÃ¡c API private mÃ  khÃ´ng lá»™ credentials.

### Off-Chain Reporting (OCR) - Tá»‘i Æ°u Gas

TrÆ°á»›c Ä‘Ã¢y, má»—i oracle node pháº£i gá»­i má»™t transaction riÃªng lÃªn blockchain Ä‘á»ƒ bÃ¡o cÃ¡o dá»¯ liá»‡u cá»§a mÃ¬nh. Náº¿u cÃ³ mÆ°á»i oracle nodes, nghÄ©a lÃ  mÆ°á»i transactions, tá»‘n ráº¥t nhiá»u gas.

**OCR** thay Ä‘á»•i cÃ¡ch nÃ y. CÃ¡c oracle nodes trao Ä‘á»•i dá»¯ liá»‡u vá»›i nhau off-chain (qua máº¡ng peer-to-peer), Ä‘áº¡t Ä‘Æ°á»£c Ä‘á»“ng thuáº­n vá» káº¿t quáº£ cuá»‘i cÃ¹ng, rá»“i chá»‰ gá»­i **má»™t transaction duy nháº¥t** lÃªn blockchain chá»©a káº¿t quáº£ Ä‘Ã£ Ä‘Æ°á»£c tá»•ng há»£p vÃ  cÃ¡c chá»¯ kÃ½ cá»§a táº¥t cáº£ nodes. Äiá»u nÃ y giáº£m chi phÃ­ gas xuá»‘ng tÃ¡m mÆ°Æ¡i lÄƒm pháº§n trÄƒm, lÃ m cho Chainlink services trá»Ÿ nÃªn ráº» hÆ¡n nhiá»u.

---

## CHÆ¯Æ NG 6: KIáº¾N TRÃšC Há»† THá»NG VÃ€ RWA (ADVANCED APPLICATIONS)

Khi táº¥t cáº£ cÃ¡c thÃ nh pháº§n trÃªn Ä‘Æ°á»£c káº¿t há»£p, chÃºng ta cÃ³ thá»ƒ xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng phá»©c táº¡p káº¿t ná»‘i tháº¿ giá»›i sá»‘ vá»›i tháº¿ giá»›i thá»±c. ÄÃ¢y lÃ  lÄ©nh vá»±c cá»§a **RWA** (Real World Assets) vÃ  **Hybrid Smart Contracts**.

### RWA - ÄÆ°a TÃ i sáº£n Thá»±c lÃªn Blockchain

**Real World Assets** (TÃ i sáº£n Tháº¿ giá»›i Thá»±c) lÃ  quÃ¡ trÃ¬nh Ä‘áº¡i diá»‡n cÃ¡c tÃ i sáº£n váº­t lÃ½ nhÆ° báº¥t Ä‘á»™ng sáº£n, vÃ ng, hay sÃ¡ch trÃªn Blockchain dÆ°á»›i dáº¡ng token. Äiá»u nÃ y má»Ÿ ra kháº£ nÄƒng chia nhá» quyá»n sá»Ÿ há»¯u, tÄƒng tÃ­nh thanh khoáº£n vÃ  tá»± Ä‘á»™ng hÃ³a cÃ¡c giao dá»‹ch.

Trong VinaLib, má»—i cuá»‘n sÃ¡ch váº­t lÃ½ Ä‘Æ°á»£c token hÃ³a thÃ nh má»™t NFT. Quyá»n sá»Ÿ há»¯u vÃ  lá»‹ch sá»­ thuÃª Ä‘Æ°á»£c ghi láº¡i minh báº¡ch trÃªn Blockchain. Tiá»n cá»c Ä‘Æ°á»£c giá»¯ trong Smart Contract thay vÃ¬ trong tay cÃ¡ nhÃ¢n. Má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng hÃ³a vÃ  cÃ³ thá»ƒ kiá»ƒm chá»©ng.

### Hybrid Smart Contracts - Káº¿t há»£p On-chain vÃ  Off-chain

**Hybrid Smart Contracts** (Há»£p Ä‘á»“ng Lai) káº¿t há»£p sá»©c máº¡nh cá»§a Blockchain vá»›i dá»¯ liá»‡u vÃ  tÃ­nh toÃ¡n tá»« bÃªn ngoÃ i. Má»™t Hybrid Smart Contract Ä‘iá»ƒn hÃ¬nh cÃ³ ba thÃ nh pháº§n.

Pháº§n Ä‘áº§u tiÃªn lÃ  **Logic On-chain**: Smart Contract xá»­ lÃ½ cÃ¡c quyáº¿t Ä‘á»‹nh tÃ i chÃ­nh nhÆ° giá»¯ cá»c, hoÃ n tiá»n, pháº¡t trá»… háº¡n. Pháº§n thá»© hai lÃ  **Dá»¯ liá»‡u Off-chain**: IPFS lÆ°u trá»¯ áº£nh bÃ¬a sÃ¡ch vÃ  mÃ´ táº£ chi tiáº¿t. CÆ¡ sá»Ÿ dá»¯ liá»‡u truyá»n thá»‘ng lÆ°u trá»¯ Ä‘iá»ƒm uy tÃ­n vÃ  lá»‹ch sá»­ chi tiáº¿t. Pháº§n thá»© ba lÃ  **Káº¿t ná»‘i Tháº¿ giá»›i Thá»±c**: IoT vÃ  cáº£m biáº¿n xÃ¡c nháº­n sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c tráº£, khÃ³a thÃ´ng minh má»Ÿ khi giao dá»‹ch Ä‘Æ°á»£c duyá»‡t.

### Mainnet vÃ  Testnet

**Mainnet** lÃ  máº¡ng lÆ°á»›i Blockchain chÃ­nh thá»©c nÆ¡i cÃ¡c giao dá»‹ch cÃ³ giÃ¡ trá»‹ tÃ i chÃ­nh thá»±c. Triá»ƒn khai trÃªn Mainnet Ä‘Ã²i há»i sá»± cáº©n tháº­n cao Ä‘á»™ vÃ¬ má»i sai láº§m Ä‘á»u cÃ³ thá»ƒ gÃ¢y thiá»‡t háº¡i thá»±c sá»±.

**Testnet** lÃ  máº¡ng lÆ°á»›i thá»­ nghiá»‡m dÃ nh cho nhÃ  phÃ¡t triá»ƒn. CÃ¡c Ä‘á»“ng coin trÃªn Testnet khÃ´ng cÃ³ giÃ¡ trá»‹ thá»±c, cho phÃ©p báº¡n thá»­ nghiá»‡m thoáº£i mÃ¡i mÃ  khÃ´ng sá»£ máº¥t tiá»n. CÃ¡c Testnet phá»• biáº¿n bao gá»“m Sepolia cho Ethereum, vÃ  Fuji cho Avalanche.

Quy trÃ¬nh phÃ¡t triá»ƒn tiÃªu chuáº©n bao gá»“m: phÃ¡t triá»ƒn vÃ  thá»­ nghiá»‡m trÃªn mÃ´i trÆ°á»ng local (nhÆ° Hardhat), triá»ƒn khai lÃªn Testnet Ä‘á»ƒ kiá»ƒm tra vá»›i Ä‘iá»u kiá»‡n gáº§n thá»±c táº¿, vÃ  cuá»‘i cÃ¹ng triá»ƒn khai lÃªn Mainnet khi Ä‘Ã£ sáºµn sÃ ng.

### Layer 1 vÃ  Layer 2 - Giáº£i phÃ¡p Má»Ÿ rá»™ng

Má»™t cÃ¢u há»i quan trá»ng khi triá»ƒn khai á»©ng dá»¥ng blockchain lÃ : nÃªn deploy lÃªn Ä‘Ã¢u? **Layer 1** (Ethereum mainnet) hay **Layer 2** (Polygon, Arbitrum...)?

**Layer 1** giá»‘ng nhÆ° Ä‘Æ°á»ng cao tá»‘c chÃ­nh - an toÃ n vÃ  Ä‘Ã¡ng tin cáº­y nháº¥t, nhÆ°ng Ä‘Ã´ng Ä‘Ãºc vÃ  phÃ­ cao. Khi máº¡ng lÆ°á»›i Ä‘Ã´ng, má»™t giao dá»‹ch Ä‘Æ¡n giáº£n cÃ³ thá»ƒ tá»‘n tá»« $5 Ä‘áº¿n $50 chá»‰ Ä‘á»ƒ tráº£ phÃ­ gas. Workflow thuÃª má»™t cuá»‘n sÃ¡ch trÃªn VinaLib (approve token, táº¡o rental, lock tiá»n cá»c, mint SBT) cÃ³ thá»ƒ tá»‘n lÃªn Ä‘áº¿n $65 chá»‰ cho phÃ­ gas!

**Layer 2** giá»‘ng nhÆ° nhá»¯ng Ä‘Æ°á»ng vÃ²ng song song Ä‘Æ°á»£c xÃ¢y dá»±ng Ä‘á»ƒ giáº£m táº£i cho Ä‘Æ°á»ng chÃ­nh. ChÃºng xá»­ lÃ½ giao dá»‹ch nhanh hÆ¡n vÃ  ráº» hÆ¡n, nhÆ°ng váº«n liÃªn káº¿t vá»›i Layer 1 Ä‘á»ƒ káº¿ thá»«a tÃ­nh báº£o máº­t. CÃ¹ng workflow thuÃª sÃ¡ch Ä‘Ã³ trÃªn Polygon (má»™t L2) chá»‰ tá»‘n khoáº£ng $0.008 - ráº» hÆ¡n gáº¥p 8000 láº§n!

**Táº¡i sao Layer 2 ráº» hÆ¡n?** Layer 2 xá»­ lÃ½ hÃ ng nghÃ¬n giao dá»‹ch cÃ¹ng lÃºc, sau Ä‘Ã³ chá»‰ gá»­i má»™t "báº£n tÃ³m táº¯t" lÃªn Layer 1. Giá»‘ng nhÆ° thay vÃ¬ gá»­i má»™t lÃ¡ thÆ° riÃªng cho tá»«ng ngÆ°á»i, báº¡n gá»™p táº¥t cáº£ vÃ o má»™t kiá»‡n hÃ ng duy nháº¥t. Chi phÃ­ Ä‘Æ°á»£c chia sáº» giá»¯a hÃ ng nghÃ¬n giao dá»‹ch, nÃªn má»—i ngÆ°á»i chá»‰ tráº£ má»™t pháº§n ráº¥t nhá».

**Nhá»¯ng lá»±a chá»n Layer 2 phá»• biáº¿n:**

**Polygon** (lá»±a chá»n cá»§a VinaLib) lÃ  "sidechain" - má»™t blockchain song song cháº¡y ráº¥t nhanh (2 giÃ¢y/block so vá»›i 15 giÃ¢y cá»§a Ethereum) vÃ  ráº¥t ráº». Má»—i 30 phÃºt, Polygon gá»­i má»™t "checkpoint" (Ä‘iá»ƒm kiá»ƒm tra) lÃªn Ethereum Ä‘á»ƒ Ä‘áº£m báº£o an toÃ n. Polygon hoáº¡t Ä‘á»™ng giá»‘ng há»‡t Ethereum vá» máº·t code (100% tÆ°Æ¡ng thÃ­ch), nÃªn cÃ¡c Smart Contract chá»‰ cáº§n copy-paste lÃ  cháº¡y ngay.

**Optimism vÃ  Arbitrum** lÃ  "Optimistic Rollups" - chÃºng giáº£ Ä‘á»‹nh táº¥t cáº£ giao dá»‹ch Ä‘á»u há»£p lá»‡, vÃ  chá»‰ kiá»ƒm tra náº¿u cÃ³ ai khiáº¿u náº¡i trong vÃ²ng 7 ngÃ y. Äiá»u nÃ y lÃ m giáº£m cÃ´ng viá»‡c cáº§n thiáº¿t, nhÆ°ng cÃ³ nghÄ©a báº¡n pháº£i Ä‘á»£i 7 ngÃ y Ä‘á»ƒ rÃºt tiá»n vá» Ethereum.

**zkSync vÃ  StarkNet** sá»­ dá»¥ng toÃ¡n há»c cao cáº¥p (zero-knowledge proofs) Ä‘á»ƒ chá»©ng minh ngay láº­p tá»©c ráº±ng giao dá»‹ch há»£p lá»‡ mÃ  khÃ´ng cáº§n kiá»ƒm tra tá»«ng chi tiáº¿t. ChÃºng ráº¥t an toÃ n vÃ  nhanh, nhÆ°ng phá»©c táº¡p hÆ¡n vÃ  Ä‘Ã´i khi khÃ´ng tÆ°Æ¡ng thÃ­ch 100% vá»›i Ethereum code.

**Trade-offs (Sá»± Ä‘Ã¡nh Ä‘á»•i):**

Layer 2 khÃ´ng pháº£i lÃ  hoÃ n háº£o. Báº¡n pháº£i cháº¥p nháº­n má»™t sá»‘ thá»a hiá»‡p. **TÃ­nh phi táº­p trung** giáº£m má»™t chÃºt: Ethereum cÃ³ hÃ ng trÄƒm nghÃ¬n validators, cÃ²n Polygon chá»‰ cÃ³ khoáº£ng 100. NhÆ°ng Ä‘á»‘i vá»›i á»©ng dá»¥ng cho thuÃª sÃ¡ch nhÆ° VinaLib, 100 validators váº«n lÃ  Ä‘á»§ an toÃ n. 

**Finality** (tÃ­nh cháº¯c cháº¯n cuá»‘i cÃ¹ng) cÅ©ng khÃ¡c: trÃªn Polygon, giao dá»‹ch Ä‘Æ°á»£c xÃ¡c nháº­n "má»m" sau 2 giÃ¢y (Ä‘á»§ cho háº§u háº¿t trÆ°á»ng há»£p), nhÆ°ng chá»‰ cháº¯c cháº¯n hoÃ n toÃ n sau khi checkpoint Ä‘Æ°á»£c gá»­i lÃªn Ethereum (30 phÃºt). Vá»›i á»©ng dá»¥ng cho thuÃª sÃ¡ch, Ä‘iá»u nÃ y hoÃ n toÃ n cháº¥p nháº­n Ä‘Æ°á»£c - khÃ´ng ai cáº§n Ä‘á»™ cháº¯c cháº¯n tuyá»‡t Ä‘á»‘i trong 2 giÃ¢y khi thuÃª má»™t cuá»‘n sÃ¡ch.

**Bridging** (cáº§u ná»‘i giá»¯a cÃ¡c layers) lÃ  quÃ¡ trÃ¬nh chuyá»ƒn tÃ i sáº£n tá»« Layer 1 sang Layer 2 vÃ  ngÆ°á»£c láº¡i. Náº¿u báº¡n cÃ³ ETH trÃªn Ethereum vÃ  muá»‘n dÃ¹ng trÃªn Polygon, báº¡n pháº£i "lock" (khÃ³a) ETH vÃ o má»™t Smart Contract trÃªn Ethereum, sau Ä‘Ã³ má»™t lÆ°á»£ng tÆ°Æ¡ng Ä‘Æ°Æ¡ng sáº½ Ä‘Æ°á»£c "mint" (táº¡o ra) trÃªn Polygon. Khi muá»‘n quay láº¡i, quÃ¡ trÃ¬nh ngÆ°á»£c láº¡i xáº£y ra.

Tuy nhiÃªn, **VinaLib khÃ´ng cáº§n bridging** vÃ¬ toÃ n bá»™ ecosystem (sÃ¡ch, token thanh toÃ¡n, contracts) Ä‘á»u Ä‘Æ°á»£c xÃ¢y dá»±ng hoÃ n toÃ n trÃªn Polygon. User chá»‰ cáº§n mua MATIC (Ä‘á»“ng tiá»n native cá»§a Polygon) trá»±c tiáº¿p tá»« sÃ n giao dá»‹ch vÃ  chuyá»ƒn vá» vÃ­ cá»§a há». ÄÆ¡n giáº£n hÆ¡n nhiá»u!

**Lá»™ trÃ¬nh Deploy cá»§a VinaLib:**

Hiá»‡n táº¡i, VinaLib Ä‘ang á»Ÿ giai Ä‘oáº¡n development trÃªn Hardhat (máº¡ng local giáº£ láº­p). BÆ°á»›c tiáº¿p theo lÃ  testing trÃªn Sepolia (Ethereum testnet) vÃ  Mumbai (Polygon testnet) Ä‘á»ƒ Ä‘áº£m báº£o má»i thá»© hoáº¡t Ä‘á»™ng Ä‘Ãºng. Khi sáºµn sÃ ng cho production, VinaLib sáº½ deploy lÃªn **Polygon Mainnet** vÃ¬ ba lÃ½ do chÃ­nh:

1. **Chi phÃ­ sustainable:** $1 cho deployment toÃ n bá»™ há»‡ thá»‘ng thay vÃ¬ $1000, vÃ  chá»‰ $19.7/thÃ¡ng cho 1000 users thay vÃ¬ $19,700
2. **Tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng tá»‘t:** Giao dá»‹ch xÃ¡c nháº­n trong 2 giÃ¢y, phÃ­ ráº» Ä‘áº¿n má»©c ngÆ°á»i dÃ¹ng gáº§n nhÆ° khÃ´ng cáº£m nháº­n
3. **TÆ°Æ¡ng thÃ­ch hoÃ n toÃ n:** Code Solidity cháº¡y nguyÃªn xi, khÃ´ng cáº§n chá»‰nh sá»­a gÃ¬

Trong tÆ°Æ¡ng lai, náº¿u cáº§n finality nhanh hÆ¡n hoáº·c security cao hÆ¡n, VinaLib cÃ³ thá»ƒ cÃ¢n nháº¯c zkSync Era - nhÆ°ng hiá»‡n táº¡i Polygon lÃ  lá»±a chá»n "sweet spot" (Ä‘iá»ƒm tá»‘i Æ°u) hoÃ n háº£o.

---

## CHÆ¯Æ NG 7: INTERNET Váº N Váº¬T (IoT - Káº¾T Ná»I THá»°C Táº¾)

Cho Ä‘áº¿n nay, chÃºng ta Ä‘Ã£ nÃ³i vá» tháº¿ giá»›i sá»‘: Blockchain, Smart Contracts, dá»¯ liá»‡u trÃªn cloud. NhÆ°ng VinaLib lÃ  má»™t dá»‹ch vá»¥ thá»±c táº¿ - ngÆ°á»i dÃ¹ng cáº§n láº¥y sÃ¡ch váº­t lÃ½. **IoT** (Internet of Things) lÃ  cáº§u ná»‘i giá»¯a tháº¿ giá»›i sá»‘ vÃ  váº­t lÃ½.

### IoT - Máº¡ng lÆ°á»›i Thiáº¿t bá»‹ ThÃ´ng minh

**Internet of Things** lÃ  máº¡ng lÆ°á»›i cÃ¡c thiáº¿t bá»‹ váº­t lÃ½ káº¿t ná»‘i internet, cÃ³ kháº£ nÄƒng thu tháº­p vÃ  trao Ä‘á»•i dá»¯ liá»‡u mÃ  khÃ´ng cáº§n con ngÆ°á»i can thiá»‡p. Tá»« Ä‘Ã¨n thÃ´ng minh, tá»§ láº¡nh, camera an ninh Ä‘áº¿n khÃ³a cá»­a Ä‘iá»‡n tá»­ - táº¥t cáº£ Ä‘á»u lÃ  IoT.

Trong cuá»™c sá»‘ng hÃ ng ngÃ y, báº¡n cÃ³ thá»ƒ Ä‘áº·t Ä‘á»“ng há»“ bÃ¡o thá»©c thÃ´ng minh tá»± Ä‘á»™ng báº­t Ä‘Ã¨n phÃ²ng khi reo. MÃ¡y pha cÃ  phÃª tá»± pha theo lá»‹ch Ä‘Ã£ háº¹n. Khi báº¡n ra khá»i nhÃ , khÃ³a thÃ´ng minh tá»± Ä‘á»™ng khÃ³a cá»­a. Camera gá»­i thÃ´ng bÃ¡o khi phÃ¡t hiá»‡n ngÆ°á»i láº¡. Báº¡n cÃ³ thá»ƒ má»Ÿ khÃ³a tá»« xa báº±ng smartphone cho ngÆ°á»i giao hÃ ng. Táº¥t cáº£ nhá»¯ng Ä‘iá»u nÃ y Ä‘á»u nhá» vÃ o IoT.

### Kiáº¿n trÃºc Bá»‘n Táº§ng

Há»‡ thá»‘ng IoT thÆ°á»ng Ä‘Æ°á»£c chia thÃ nh bá»‘n táº§ng. **Táº§ng Perception** (Cáº£m nháº­n) lÃ  cÃ¡c thiáº¿t bá»‹ váº­t lÃ½ vÃ  sensors: khÃ³a thÃ´ng minh, camera, cáº£m biáº¿n nhiá»‡t Ä‘á»™, cáº£m biáº¿n chuyá»ƒn Ä‘á»™ng. **Táº§ng Network** (Máº¡ng) lÃ  cÃ¡c giao thá»©c káº¿t ná»‘i: WiFi, Bluetooth, Zigbee, LoRaWAN. **Táº§ng Platform** (Ná»n táº£ng) lÃ  cloud hoáº·c edge computing: xá»­ lÃ½ dá»¯ liá»‡u, phÃ¢n tÃ­ch, rule engine, machine learning. **Táº§ng Application** (á»¨ng dá»¥ng) lÃ  giao diá»‡n ngÆ°á»i dÃ¹ng: mobile apps, web dashboard, voice assistants.

### IoT Protocols - NgÃ´n ngá»¯ Giao tiáº¿p

CÃ³ nhiá»u protocols khÃ¡c nhau vÃ¬ má»—i loáº¡i cÃ³ Ä‘áº·c Ä‘iá»ƒm riÃªng phÃ¹ há»£p vá»›i use case khÃ¡c nhau. **WiFi** cÃ³ bÄƒng thÃ´ng cao phÃ¹ há»£p cho camera vÃ  smart TV, nhÆ°ng tá»‘n pin. **Bluetooth** pháº¡m vi ngáº¯n hÆ¡n nhÆ°ng tiáº¿t kiá»‡m pin, phÃ¹ há»£p cho wearables vÃ  fitness trackers. **Zigbee** táº¡o mesh network (cÃ¡c thiáº¿t bá»‹ relay cho nhau), phÃ¹ há»£p cho smart home. **LoRaWAN** cÃ³ thá»ƒ truyá»n xa hÃ ng kilomet vá»›i pin dÃ¹ng nhiá»u nÄƒm, phÃ¹ há»£p cho agriculture vÃ  smart cities.

**MQTT** (Message Queuing Telemetry Transport) lÃ  protocol phá»• biáº¿n nháº¥t cho IoT. NÃ³ hoáº¡t Ä‘á»™ng theo mÃ´ hÃ¬nh Publish/Subscribe: thiáº¿t bá»‹ publish dá»¯ liá»‡u lÃªn má»™t topic, á»©ng dá»¥ng subscribe vÃ o topic Ä‘Ã³ Ä‘á»ƒ nháº­n dá»¯ liá»‡u. CÃ³ má»™t broker trung gian Ä‘iá»u phá»‘i. MQTT ráº¥t nháº¹, header chá»‰ hai bytes, phÃ¹ há»£p cho thiáº¿t bá»‹ cÃ³ tÃ i nguyÃªn háº¡n cháº¿.

### Smart Lock - KhÃ³a ThÃ´ng minh

**Smart Lock** lÃ  khÃ³a cá»­a Ä‘iá»‡n tá»­ cÃ³ thá»ƒ má»Ÿ báº±ng smartphone, mÃ£ PIN, tháº» RFID, hoáº·c vÃ¢n tay. KhÃ´ng cáº§n chÃ¬a khÃ³a váº­t lÃ½. CÃ¡c loáº¡i smart lock phá»• biáº¿n bao gá»“m Deadbolt Replacement (thay tháº¿ khÃ³a cá»­a cÅ© hoÃ n toÃ n), Smart Padlock (á»• khÃ³a cho cá»•ng, tá»§, xe Ä‘áº¡p), vÃ  Smart Lockbox (há»™p Ä‘á»±ng chÃ¬a khÃ³a vá»›i mÃ£ unlock).

Trong VinaLib, smart lock Ä‘Æ°á»£c tÃ­ch há»£p vá»›i há»‡ thá»‘ng Blockchain. Khi Smart Contract approve má»™t rental, nÃ³ emit má»™t event. Backend service láº¯ng nghe event nÃ y, táº¡o má»™t mÃ£ unlock táº¡m thá»i (time-limited), vÃ  gá»­i lá»‡nh Ä‘áº¿n IoT platform (nhÆ° Tuya). Smart lock nháº­n lá»‡nh vÃ  cho phÃ©p má»Ÿ báº±ng mÃ£ nÃ y trong khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh. Sau khi háº¿t háº¡n, mÃ£ tá»± Ä‘á»™ng vÃ´ hiá»‡u.

### IoT + Blockchain Integration

Viá»‡c káº¿t há»£p IoT vá»›i Blockchain giáº£i quyáº¿t váº¥n Ä‘á» trust vÃ  immutability. Dá»¯ liá»‡u tá»« sensors thÆ°á»ng lÆ°u trÃªn server táº­p trung, cÃ³ thá»ƒ bá»‹ sá»­a Ä‘á»•i. Khi hash dá»¯ liá»‡u IoT lÃªn Blockchain, lá»‹ch sá»­ khÃ´ng thá»ƒ thay Ä‘á»•i.

Trong VinaLib, khi user tráº£ sÃ¡ch, IoT sensor ghi nháº­n thá»i gian vÃ  tÃ¬nh tráº¡ng sÃ¡ch. Dá»¯ liá»‡u nÃ y Ä‘Æ°á»£c hash vÃ  lÆ°u lÃªn Blockchain qua Chainlink. Náº¿u sau nÃ y cÃ³ tranh cháº¥p vá» viá»‡c sÃ¡ch cÃ³ bá»‹ hÆ° háº¡i hay khÃ´ng, cÃ³ thá»ƒ verify báº±ng cÃ¡ch so sÃ¡nh dá»¯ liá»‡u gá»‘c vá»›i hash trÃªn chain.

### Edge Computing vs Cloud

**Cloud Computing** lÃ  xá»­ lÃ½ dá»¯ liá»‡u táº¡i datacenter xa xÃ´i. Camera upload video lÃªn cloud, cloud phÃ¢n tÃ­ch, rá»“i gá»­i alert vá». Æ¯u Ä‘iá»ƒm lÃ  powerful processing, nhÆ°á»£c Ä‘iá»ƒm lÃ  cháº­m (phá»¥ thuá»™c internet) vÃ  lo ngáº¡i privacy.

**Edge Computing** lÃ  xá»­ lÃ½ ngay táº¡i thiáº¿t bá»‹ hoáº·c gateway local. Camera phÃ¢n tÃ­ch ngay táº¡i chá»— mÃ  khÃ´ng upload toÃ n bá»™ video. Æ¯u Ä‘iá»ƒm lÃ  nhanh (real-time, latency dÆ°á»›i mÆ°á»i mili giÃ¢y), privacy (dá»¯ liá»‡u khÃ´ng lÃªn cloud), vÃ  hoáº¡t Ä‘á»™ng offline. NhÆ°á»£c Ä‘iá»ƒm lÃ  processing power háº¡n cháº¿.

Trong thá»±c táº¿, **Hybrid Architecture** lÃ  tá»‘i Æ°u nháº¥t: edge xá»­ lÃ½ real-time (phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng, má»Ÿ khÃ³a ngay láº­p tá»©c), chá»‰ gá»­i summaries hoáº·c alerts lÃªn cloud. Cloud lÆ°u trá»¯ lÃ¢u dÃ i vÃ  thá»±c hiá»‡n analytics phá»©c táº¡p.

### Security Challenges

IoT cÃ³ nhiá»u lá»— há»•ng báº£o máº­t. Thiáº¿t bá»‹ IoT thÆ°á»ng dÃ¹ng default password yáº¿u (admin/admin), firmware cÅ© khÃ´ng Ä‘Æ°á»£c update, vÃ  nÄƒng lá»±c tÃ­nh toÃ¡n háº¡n cháº¿ nÃªn khÃ³ implement encryption máº¡nh. Äiá»u nÃ y dáº«n Ä‘áº¿n cÃ¡c cuá»™c táº¥n cÃ´ng nhÆ° unauthorized access (hacker má»Ÿ khÃ³a smart lock tá»« xa), botnet (hÃ ng triá»‡u thiáº¿t bá»‹ bá»‹ Ä‘iá»u khiá»ƒn táº¥n cÃ´ng DDoS), hay ransomware (khÃ³a toÃ n bá»™ smart home vÃ  Ä‘Ã²i tiá»n chuá»™c).

Best practices bao gá»“m: thay Ä‘á»•i default passwords ngay láº­p tá»©c, giá»¯ firmware luÃ´n Ä‘Æ°á»£c cáº­p nháº­t, sá»­ dá»¥ng WiFi riÃªng cho IoT (tÃ¡ch khá»i máº¡ng chÃ­nh), enable two-factor authentication, vÃ  review privacy settings Ä‘á»ƒ táº¯t cÃ¡c tÃ­nh nÄƒng thu tháº­p dá»¯ liá»‡u khÃ´ng cáº§n thiáº¿t.

### Platforms vÃ  Ecosystems

CÃ³ nhiá»u IoT platforms phá»• biáº¿n. **Consumer platforms** nhÆ° Google Home, Amazon Alexa, Apple HomeKit, Samsung SmartThings giÃºp ngÆ°á»i dÃ¹ng quáº£n lÃ½ thiáº¿t bá»‹ smart home. **Enterprise/Cloud platforms** nhÆ° AWS IoT Core, Azure IoT Hub, Google Cloud IoT cung cáº¥p háº¡ táº§ng cho doanh nghiá»‡p xÃ¢y dá»±ng giáº£i phÃ¡p IoT quy mÃ´ lá»›n. **Specialized platforms** nhÆ° Tuya Smart cung cáº¥p turnkey solution cho manufacturers, cho phÃ©p há» lÃ m thiáº¿t bá»‹ thÃ´ng minh mÃ  khÃ´ng cáº§n xÃ¢y infrastructure tá»« Ä‘áº§u.

VinaLib sá»­ dá»¥ng Tuya platform cho smart locks. Tuya cung cáº¥p cloud API Ä‘á»ƒ Ä‘iá»u khiá»ƒn thiáº¿t bá»‹, SDK cho mobile app, vÃ  firmware cho hardware. Äiá»u nÃ y giáº£m Ä‘Ã¡ng ká»ƒ thá»i gian phÃ¡t triá»ƒn vÃ  Ä‘áº£m báº£o tÃ­nh tÆ°Æ¡ng thÃ­ch vá»›i cÃ¡c voice assistants nhÆ° Alexa vÃ  Google Assistant.

---

## TÃ³m táº¯t CÃ¡c Thuáº­t ngá»¯ Theo Vai trÃ² Há»‡ thá»‘ng

| NhÃ³m | Thuáº­t ngá»¯ ChÃ­nh | Vai trÃ² trong DApp VinaLib |
| --- | --- | --- |
| **Háº¡ táº§ng Ná»n táº£ng** | Node, Blockchain, Distributed Ledger, Hashing | Ná»n táº£ng báº¥t biáº¿n lÆ°u trá»¯ giao dá»‹ch vÃ  tráº¡ng thÃ¡i |
| **Logic vÃ  Ká»¹ thuáº­t Contract** | Solidity, EVM, Gas, Ownable, Pausable, Inheritance | XÃ¢y dá»±ng quy trÃ¬nh thuÃª sÃ¡ch an toÃ n vÃ  cÃ³ kiá»ƒm soÃ¡t |
| **Chuáº©n Token** | ERC-721, ERC-4907, SBT, ERC-20 | Äá»‹nh danh sÃ¡ch (NFT), cÆ¡ cháº¿ cho thuÃª, há»£p Ä‘á»“ng thuÃª vÃ  token thanh toÃ¡n |
| **LÆ°u trá»¯ Dá»¯ liá»‡u** | IPFS, CID, Pinning, Gateway, P2P | LÆ°u áº£nh bÃ¬a sÃ¡ch vÃ  metadata má»™t cÃ¡ch phi táº­p trung |
| **Oracle vÃ  Dá»¯ liá»‡u External** | Chainlink, DON, Data Feeds, VRF, Automation, Functions, OCR | Láº¥y dá»¯ liá»‡u Ä‘iá»ƒm uy tÃ­n, táº¡o random, tá»± Ä‘á»™ng hÃ³a, thá»±c thi logic off-chain |
| **TÆ°Æ¡ng tÃ¡c Váº­t lÃ½** | IoT, Smart Lock, MQTT, Tuya, Edge Computing, Sensors | Quáº£n lÃ½ sÃ¡ch váº­t lÃ½, má»Ÿ khÃ³a tá»§, ghi nháº­n tráº£ sÃ¡ch |
| **Kiáº¿n trÃºc Tá»•ng há»£p** | RWA, Hybrid Smart Contracts, Mainnet, Testnet | Káº¿t ná»‘i toÃ n bá»™ cÃ¡c thÃ nh pháº§n thÃ nh há»‡ sinh thÃ¡i hoÃ n chá»‰nh |

---

*TÃ i liá»‡u nÃ y lÃ  pháº§n giá»›i thiá»‡u tá»•ng quan. Äá»ƒ tÃ¬m hiá»ƒu chi tiáº¿t vá» tá»«ng chá»§ Ä‘á» vá»›i code examples, workflows cá»¥ thá»ƒ vÃ  phÃ¢n tÃ­ch technical sÃ¢u hÆ¡n, vui lÃ²ng tham kháº£o cÃ¡c file chuyÃªn sÃ¢u tÆ°Æ¡ng á»©ng trong cÃ¹ng thÆ° má»¥c:*

- `0-Kien-truc-Tong-quan.md` - SÆ¡ Ä‘á»“ chi tiáº¿t, glossary Ä‘áº§y Ä‘á»§
- `1-IPFS.md` - CIDv0/v1, gateway implementation, pinning services
- `2-Smart-Contracts-Co-ban.md` - Workflow VinaLib chi tiáº¿t (BookAsset, BookRental, PolicyEngine

)
- `3-Smart-Contracts-Nang-cao.md` - Design patterns, dependency analysis, security best practices
- `4-Chainlink.md` - Request/response lifecycle, subscription model, secrets management
- `5-IoT.md` - Tuya integration, physical access control, data integrity patterns

*Cáº­p nháº­t láº§n cuá»‘i: 2026-01-31*
=======
---
layout: default
title: LÃ½ thuyáº¿t Ná»n táº£ng
---

# Giá»›i thiá»‡u KhÃ¡i niá»‡m Ná»n táº£ng Web3 vÃ  Blockchain

TÃ i liá»‡u nÃ y cung cáº¥p má»™t lá»™ trÃ¬nh há»c thuáº­t toÃ n diá»‡n, giÃºp báº¡n hiá»ƒu rÃµ cÃ¡c khÃ¡i niá»‡m cá»‘t lÃµi cáº¥u thÃ nh nÃªn kiáº¿n trÃºc cá»§a má»™t á»©ng dá»¥ng phi táº­p trung (DApp). Thay vÃ¬ Ä‘i sÃ¢u vÃ o mÃ£ nguá»“n, chÃºng ta sáº½ sá»­ dá»¥ng ngÃ´n ngá»¯ tá»± nhiÃªn, cÃ¡c vÃ­ dá»¥ Ä‘á»i thÆ°á»ng vÃ  cÃ¡c phÃ©p so sÃ¡nh trá»±c quan Ä‘á»ƒ lÃ m sÃ¡ng tá» nhá»¯ng thuáº­t ngá»¯ tÆ°á»Ÿng chá»«ng phá»©c táº¡p.

---

## ğŸ“– Lá»™ trÃ¬nh Äá»c Khuyáº¿n nghá»‹

### Cho NgÆ°á»i má»›i báº¯t Ä‘áº§u
```
ChÆ°Æ¡ng 1 (Blockchain) â†’ ChÆ°Æ¡ng 2 (Smart Contracts CÆ¡ báº£n) â†’ ChÆ°Æ¡ng 4 (IPFS) â†’ ChÆ°Æ¡ng 7 (IoT)
```

### Cho NhÃ  PhÃ¡t triá»ƒn
```
Tuáº§n tá»± tá»« ChÆ°Æ¡ng 1 Ä‘áº¿n ChÆ°Æ¡ng 7 Ä‘á»ƒ hiá»ƒu Ä‘áº§y Ä‘á»§ kiáº¿n trÃºc há»‡ thá»‘ng
```

---

## VÃŒ SAO Cáº¦N VINALIB? (DSR Context)

> [!TIP]
> **Bá»‘i cáº£nh DSR:** ChÆ°Æ¡ng nÃ y giáº£i thÃ­ch **váº¥n Ä‘á» thá»±c táº¿** mÃ  VinaLib hÆ°á»›ng Ä‘áº¿n giáº£i quyáº¿t.  
> Äá»ƒ Ä‘á»c phÃ¢n tÃ­ch chi tiáº¿t vá»›i academic rigor â†’ xem [Problem Statement](./Problem_Statement.md)

### Nhá»¯ng ThÃ¡ch thá»©c Trong Quáº£n lÃ½ TÃ i sáº£n Truyá»n thá»‘ng

TrÆ°á»›c khi xÃ¢y dá»±ng báº¥t ká»³ giáº£i phÃ¡p cÃ´ng nghá»‡ nÃ o, chÃºng ta cáº§n hiá»ƒu rÃµ **váº¥n Ä‘á»** Ä‘ang tá»“n táº¡i. Há»‡ thá»‘ng quáº£n lÃ½ tÃ i sáº£n truyá»n thá»‘ng (nhÆ° cho thuÃª sÃ¡ch, thiáº¿t bá»‹, hay báº¥t Ä‘á»™ng sáº£n) gáº·p pháº£i ba nhÃ³m váº¥n Ä‘á» lá»›n:

**1. Tranh cháº¥p vá» Quyá»n sá»Ÿ há»¯u vÃ  TÃ¬nh tráº¡ng TÃ i sáº£n**

Khi báº¡n thuÃª má»™t cuá»‘n sÃ¡ch tá»« thÆ° viá»‡n, lÃ m sao chá»©ng minh ráº±ng sÃ¡ch Ä‘Ã£ bá»‹ rÃ¡ch tá»« trÆ°á»›c khi báº¡n nháº­n, chá»© khÃ´ng pháº£i do báº¡n lÃ m há»ng? Há»“ sÆ¡ giáº¥y tá» cÃ³ thá»ƒ bá»‹ máº¥t, sá»­a Ä‘á»•i, hoáº·c khÃ´ng Ä‘á»§ chi tiáº¿t. Khi cÃ³ tranh cháº¥p xáº£y ra, cáº£ hai bÃªn Ä‘á»u thiáº¿u báº±ng chá»©ng minh báº¡ch Ä‘á»ƒ xÃ¡c Ä‘á»‹nh trÃ¡ch nhiá»‡m.

**2. Xá»­ lÃ½ Thá»§ cÃ´ng Tá»‘n KÃ©m vÃ  Dá»… Sai sÃ³t**

Má»—i láº§n báº¡n thuÃª sÃ¡ch, nhÃ¢n viÃªn pháº£i: nháº­n tiá»n cá»c, ghi chÃ©p vÃ o sá»•, kiá»ƒm tra tÃ¬nh tráº¡ng sÃ¡ch, tÃ­nh toÃ¡n phÃ­ trá»… háº¡n (náº¿u cÃ³), vÃ  hoÃ n tráº£ tiá»n cá»c. Quy trÃ¬nh nÃ y máº¥t 60-90 phÃºt má»—i chu ká»³ thuÃª tráº£, tá»‘n chi phÃ­ nhÃ¢n cÃ´ng $30-40 má»—i giao dá»‹ch, vÃ  cÃ³ tá»· lá»‡ sai sÃ³t 8-12% trong tÃ­nh toÃ¡n.

Tiá»n cá»c Ä‘Æ°á»£c giá»¯ bá»Ÿi con ngÆ°á»i (thá»§ thÆ°, quáº£n lÃ½), táº¡o ra rá»§i ro biá»ƒn thá»§ hoáº·c máº¥t mÃ¡t. Viá»‡c duyá»‡t yÃªu cáº§u thuÃª dá»±a trÃªn Ä‘Ã¡nh giÃ¡ chá»§ quan, khÃ´ng cÃ´ng báº±ng.

**3. Thiáº¿u Minh báº¡ch trong Lá»‹ch sá»­ DÃ²ng Ä‘á»i TÃ i sáº£n**

Má»™t cuá»‘n sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c cho thuÃª bao nhiÃªu láº§n? Ai Ä‘Ã£ tá»«ng thuÃª nÃ³? CÃ³ tá»«ng bá»‹ bÃ¡o cÃ¡o hÆ° há»ng khÃ´ng? Há»‡ thá»‘ng truyá»n thá»‘ng khÃ´ng lÆ°u trá»¯ Ä‘áº§y Ä‘á»§ lá»‹ch sá»­ nÃ y. Khi sÃ¡ch Ä‘Æ°á»£c chuyá»ƒn giao (quyÃªn táº·ng, bÃ¡n láº¡i), toÃ n bá»™ lá»‹ch sá»­ bá»‹ máº¥t, lÃ m giáº£m giÃ¡ trá»‹ vÃ  Ä‘á»™ tin cáº­y.

### VinaLib Giáº£i quyáº¿t Tháº¿ nÃ o?

Dá»± Ã¡n VinaLib Ä‘Æ°á»£c thiáº¿t káº¿ theo phÆ°Æ¡ng phÃ¡p luáº­n **Design Science Research (DSR)** Ä‘á»ƒ giáº£i quyáº¿t tá»«ng váº¥n Ä‘á» má»™t cÃ¡ch cÃ³ há»‡ thá»‘ng:

- **Váº¥n Ä‘á» 1 (Tranh cháº¥p)** â†’ **Giáº£i phÃ¡p**: Má»—i tÃ i sáº£n lÃ  má»™t NFT vá»›i lá»‹ch sá»­ báº¥t biáº¿n trÃªn blockchain, áº£nh bÃ¬a vÃ  mÃ´ táº£ lÆ°u trÃªn IPFS khÃ´ng thá»ƒ sá»­a Ä‘á»•i
- **Váº¥n Ä‘á» 2 (Thá»§ cÃ´ng)** â†’ **Giáº£i phÃ¡p**: Smart contracts tá»± Ä‘á»™ng giá»¯ cá»c, duyá»‡t yÃªu cáº§u, tÃ­nh phÃ­, vÃ  hoÃ n tráº£ mÃ  khÃ´ng cáº§n con ngÆ°á»i
- **Váº¥n Ä‘á» 3 (Thiáº¿u minh báº¡ch)** â†’ **Giáº£i phÃ¡p**: Má»i giao dá»‹ch Ä‘Æ°á»£c ghi láº¡i vÄ©nh viá»…n trÃªn blockchain, táº¡o audit trail hoÃ n chá»‰nh

CÃ¡c chÆ°Æ¡ng tiáº¿p theo sáº½ giáº£i thÃ­ch **cÃ¡c cÃ´ng nghá»‡ ná»n táº£ng** (Blockchain, Smart Contracts, IPFS, Chainlink, IoT) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¢y dá»±ng giáº£i phÃ¡p nÃ y.

> [!NOTE]
> **Äá»ƒ hiá»ƒu chi tiáº¿t vá» má»¥c tiÃªu Ä‘o lÆ°á»ng Ä‘Æ°á»£c** â†’ xem [Solution Objectives](./Solution_Objectives.md)  
> **Äá»ƒ xem káº¿t quáº£ Ä‘Ã¡nh giÃ¡ hiá»‡u quáº£** â†’ xem [Evaluation Results](./Evaluation_Results.md)

---

## CHÆ¯Æ NG 0: Tá»”NG QUAN KIáº¾N TRÃšC VINALIB

TrÆ°á»›c khi Ä‘i sÃ¢u vÃ o tá»«ng thÃ nh pháº§n, hÃ£y nhÃ¬n vÃ o bá»©c tranh toÃ n cáº£nh cá»§a há»‡ thá»‘ng VinaLib. ÄÃ¢y lÃ  má»™t ná»n táº£ng cho thuÃª sÃ¡ch phi táº­p trung, káº¿t há»£p nÄƒm cÃ´ng nghá»‡ chÃ­nh lÃ m viá»‡c cÃ¹ng nhau nhÆ° má»™t dÃ n nháº¡c.

### SÆ¡ Ä‘á»“ Tá»•ng quan

HÃ£y tÆ°á»Ÿng tÆ°á»£ng VinaLib nhÆ° má»™t ngÃ´i nhÃ  nhiá»u táº§ng. Táº§ng má»™t lÃ  ná»n mÃ³ng Blockchain, nÆ¡i cÃ¡c há»£p Ä‘á»“ng thÃ´ng minh (Smart Contracts) quáº£n lÃ½ logic thuÃª sÃ¡ch vÃ  tiá»n cá»c. Táº§ng hai lÃ  há»‡ thá»‘ng lÆ°u trá»¯ IPFS, nÆ¡i lÆ°u giá»¯ áº£nh bÃ¬a sÃ¡ch vÃ  thÃ´ng tin chi tiáº¿t. Táº§ng ba lÃ  Chainlink Oracle, cáº§u ná»‘i giÃºp Smart Contract láº¥y dá»¯ liá»‡u tá»« tháº¿ giá»›i bÃªn ngoÃ i nhÆ° Ä‘iá»ƒm uy tÃ­n ngÆ°á»i dÃ¹ng. VÃ  cuá»‘i cÃ¹ng, táº§ng bá»‘n lÃ  IoT - cÃ¡c khÃ³a thÃ´ng minh váº­t lÃ½ cho phÃ©p ngÆ°á»i thuÃª má»Ÿ khÃ³a vÃ  láº¥y sÃ¡ch.

### Luá»“ng Dá»¯ liá»‡u ToÃ n Há»‡ thá»‘ng

HÃ£y theo dÃµi hÃ nh trÃ¬nh cá»§a má»™t quyá»ƒn sÃ¡ch tá»« khi Ä‘Æ°á»£c Ä‘Äƒng kÃ½ cho Ä‘áº¿n khi ai Ä‘Ã³ thuÃª vÃ  tráº£ nÃ³. Äáº§u tiÃªn, chá»§ sÃ¡ch Ä‘Äƒng kÃ½ cuá»‘n sÃ¡ch lÃªn há»‡ thá»‘ng. Má»™t NFT (token khÃ´ng thá»ƒ thay tháº¿) Ä‘Æ°á»£c táº¡o ra trÃªn Blockchain Ä‘á»ƒ Ä‘áº¡i diá»‡n cho quyá»ƒn sÃ¡ch váº­t lÃ½ nÃ y. áº¢nh bÃ¬a vÃ  mÃ´ táº£ Ä‘Æ°á»£c upload lÃªn IPFS, táº¡o ra má»™t mÃ£ Ä‘á»‹nh danh ná»™i dung (CID) duy nháº¥t. MÃ£ CID nÃ y Ä‘Æ°á»£c lÆ°u trong NFT.

Khi cÃ³ ngÆ°á»i muá»‘n thuÃª, há» gá»­i yÃªu cáº§u. Smart Contract kiá»ƒm tra Ä‘iá»ƒm uy tÃ­n cá»§a ngÆ°á»i Ä‘Ã³ thÃ´ng qua Chainlink Oracle, Oracle nÃ y láº¥y dá»¯ liá»‡u tá»« cÆ¡ sá»Ÿ dá»¯ liá»‡u bÃªn ngoÃ i. Náº¿u Ä‘Æ°á»£c cháº¥p thuáº­n, tiá»n cá»c Ä‘Æ°á»£c lock trong há»£p Ä‘á»“ng. Má»™t mÃ£ unlock táº¡m thá»i Ä‘Æ°á»£c gá»­i Ä‘áº¿n há»‡ thá»‘ng IoT. NgÆ°á»i thuÃª nháº­p mÃ£ vÃ o khÃ³a thÃ´ng minh Ä‘á»ƒ má»Ÿ tá»§ vÃ  láº¥y sÃ¡ch.

Khi tráº£ sÃ¡ch, quÃ¡ trÃ¬nh ngÆ°á»£c láº¡i xáº£y ra. IoT ghi nháº­n sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c tráº£, thÃ´ng tin Ä‘Æ°á»£c hash vÃ  lÆ°u lÃªn Blockchain qua Chainlink. Smart Contract tá»± Ä‘á»™ng tÃ­nh toÃ¡n phÃ­ (náº¿u tráº£ muá»™n) vÃ  hoÃ n tráº£ tiá»n cá»c cÃ²n láº¡i cho ngÆ°á»i thuÃª.

### Ma tráº­n Má»‘i quan há»‡ Giá»¯a cÃ¡c ThÃ nh pháº§n

Má»—i cÃ´ng nghá»‡ trong há»‡ thá»‘ng khÃ´ng Ä‘á»©ng Ä‘á»™c láº­p mÃ  liÃªn káº¿t cháº·t cháº½ vá»›i nhau. IPFS cung cáº¥p CID cho Smart Contract lÆ°u trong metadata cá»§a NFT. Smart Contract emit cÃ¡c events (sá»± kiá»‡n) khi cÃ³ giao dá»‹ch thuÃª sÃ¡ch, cÃ¡c sá»± kiá»‡n nÃ y kÃ­ch hoáº¡t há»‡ thá»‘ng IoT má»Ÿ khÃ³a. Chainlink Functions cÃ³ thá»ƒ láº¥y dá»¯ liá»‡u tá»« IoT sensors Ä‘á»ƒ xÃ¡c nháº­n sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c tráº£, sau Ä‘Ã³ gá»i callback vÃ o Smart Contract Ä‘á»ƒ cáº­p nháº­t tráº¡ng thÃ¡i. Táº¥t cáº£ cÃ¡c logs tá»« IoT Ä‘Æ°á»£c hash vÃ  lÆ°u lÃªn Blockchain Ä‘á»ƒ táº¡o audit trail khÃ´ng thá»ƒ chá»‰nh sá»­a.

### Báº£ng Thuáº­t ngá»¯ Quan trá»ng

Má»™t sá»‘ thuáº­t ngá»¯ chung báº¡n sáº½ gáº·p xuyÃªn suá»‘t tÃ i liá»‡u. **On-chain** nghÄ©a lÃ  dá»¯ liá»‡u hoáº·c logic Ä‘Æ°á»£c lÆ°u trá»¯ vÃ  thá»±c thi trá»±c tiáº¿p trÃªn Blockchain. **Off-chain** lÃ  nhá»¯ng gÃ¬ náº±m bÃªn ngoÃ i Blockchain nhÆ° servers, APIs, hay IPFS. **Gas** lÃ  chi phÃ­ tÃ­nh toÃ¡n báº¡n pháº£i tráº£ khi thá»±c hiá»‡n má»™t thao tÃ¡c trÃªn Blockchain. **Wallet** lÃ  vÃ­ Ä‘iá»‡n tá»­ chá»©a private key Ä‘á»ƒ kÃ½ giao dá»‹ch.

Trong VinaLib, cÃ³ nhá»¯ng thuáº­t ngá»¯ Ä‘áº·c thÃ¹ riÃªng. **BookAsset** lÃ  Smart Contract Ä‘áº¡i diá»‡n cho sÃ¡ch dÆ°á»›i dáº¡ng NFT. **PolicyEngine** lÃ  Smart Contract tá»± Ä‘á»™ng Ä‘Ã¡nh giÃ¡ vÃ  approve hoáº·c reject cÃ¡c yÃªu cáº§u thuÃª dá»±a trÃªn trust score vÃ  book tier. **RentalAgreementSBT** lÃ  Soulbound Token - má»™t loáº¡i NFT khÃ´ng thá»ƒ chuyá»ƒn nhÆ°á»£ng - chá»©ng nháº­n ngÆ°á»i dÃ¹ng Ä‘Ã£ kÃ½ há»£p Ä‘á»“ng thuÃª sÃ¡ch.

---

## CHÆ¯Æ NG 1: Háº  Táº¦NG LÃ’NG TIN (BLOCKCHAIN FUNDAMENTALS)

TrÆ°á»›c khi nÃ³i vá» cÃ¡c á»©ng dá»¥ng thÃ´ng minh, chÃºng ta cáº§n hiá»ƒu vá» ná»n mÃ³ng mÃ  chÃºng Ä‘Æ°á»£c xÃ¢y dá»±ng: Blockchain. HÃ£y hÃ¬nh dung Blockchain nhÆ° má»™t cuá»‘n sá»• cÃ¡i khá»•ng lá»“, Ä‘Æ°á»£c sao chÃ©p vÃ  lÆ°u giá»¯ Ä‘á»“ng thá»i trÃªn hÃ ng nghÃ¬n mÃ¡y tÃ­nh trÃªn kháº¯p tháº¿ giá»›i. KhÃ´ng má»™t ai sá»Ÿ há»¯u cuá»‘n sá»• nÃ y, vÃ  má»i ngÆ°á»i Ä‘á»u cÃ³ thá»ƒ kiá»ƒm tra ná»™i dung cá»§a nÃ³.

### Node - Nhá»¯ng NgÆ°á»i GÃ¡c Cá»•ng cá»§a Máº¡ng lÆ°á»›i

Má»—i mÃ¡y tÃ­nh tham gia vÃ o máº¡ng lÆ°á»›i Blockchain Ä‘Æ°á»£c gá»i lÃ  má»™t **Node** (nÃºt máº¡ng). Báº¡n cÃ³ thá»ƒ tÆ°á»Ÿng tÆ°á»£ng cÃ¡c node nhÆ° cÃ¡c cÃ´ng chá»©ng viÃªn lÃ m viá»‡c song song: má»—i ngÆ°á»i Ä‘á»u giá»¯ má»™t báº£n sao Ä‘áº§y Ä‘á»§ cá»§a sá»• cÃ¡i, vÃ  khi cÃ³ má»™t giao dá»‹ch má»›i, táº¥t cáº£ há» Ä‘á»u xÃ¡c nháº­n vÃ  ghi láº¡i cÃ¹ng má»™t lÃºc.

CÃ³ ba loáº¡i node phá»• biáº¿n. **Full Node** lÃ  loáº¡i lÆ°u trá»¯ toÃ n bá»™ lá»‹ch sá»­ giao dá»‹ch tá»« ngÃ y Ä‘áº§u tiÃªn Ä‘áº¿n hiá»‡n táº¡i, Ä‘Ã³ng vai trÃ² nhÆ° má»™t thÆ° viá»‡n lÆ°u trá»¯ hoÃ n chá»‰nh. **Light Node** chá»‰ lÆ°u cÃ¡c thÃ´ng tin tÃ³m táº¯t, giá»‘ng nhÆ° viá»‡c Ä‘á»c má»¥c lá»¥c cá»§a má»™t cuá»‘n sÃ¡ch thay vÃ¬ Ä‘á»c toÃ n bá»™ ná»™i dung, giÃºp tiáº¿t kiá»‡m tÃ i nguyÃªn. Cuá»‘i cÃ¹ng, **Validator Node** lÃ  nhá»¯ng node Ä‘áº·c biá»‡t tham gia vÃ o quÃ¡ trÃ¬nh Ä‘á»“ng thuáº­n, quyáº¿t Ä‘á»‹nh giao dá»‹ch nÃ o lÃ  há»£p lá»‡ vÃ  nÃªn Ä‘Æ°á»£c thÃªm vÃ o sá»• cÃ¡i.

### Sá»• cÃ¡i PhÃ¢n tÃ¡n - Cuá»‘n Sá»• KhÃ´ng Thá»ƒ XÃ³a

KhÃ¡c vá»›i sá»• cÃ¡i truyá»n thá»‘ng do má»™t ngÃ¢n hÃ ng hay cÃ´ng ty náº¯m giá»¯, **Sá»• cÃ¡i PhÃ¢n tÃ¡n** (Distributed Ledger) Ä‘Æ°á»£c chia sáº» vÃ  Ä‘á»“ng bá»™ hÃ³a trÃªn toÃ n bá»™ máº¡ng lÆ°á»›i. Äiá»u nÃ y mang láº¡i hai Ä‘áº·c tÃ­nh quan trá»ng. Thá»© nháº¥t lÃ  **tÃ­nh minh báº¡ch**: má»i giao dá»‹ch Ä‘á»u cÃ´ng khai, ai cÅ©ng cÃ³ thá»ƒ kiá»ƒm tra. Thá»© hai lÃ  **tÃ­nh báº¥t biáº¿n** (Immutability): má»™t khi giao dá»‹ch Ä‘Ã£ Ä‘Æ°á»£c ghi vÃ o sá»•, nÃ³ khÃ´ng thá»ƒ bá»‹ xÃ³a hay sá»­a Ä‘á»•i. HÃ£y nghÄ© vá» viá»‡c viáº¿t báº±ng bÃºt má»±c vÃ o má»™t cuá»‘n sá»• Ä‘Æ°á»£c photocopy ra hÃ ng nghÃ¬n báº£n ngay láº­p tá»©c. Muá»‘n sá»­a má»™t chá»¯? Báº¡n pháº£i thay Ä‘á»•i táº¥t cáº£ cÃ¡c báº£n sao cÃ¹ng lÃºc, Ä‘iá»u gáº§n nhÆ° báº¥t kháº£ thi.

### HÃ m BÄƒm vÃ  Máº­t mÃ£ há»c - Dáº¥u VÃ¢n Tay Sá»‘

**HÃ m BÄƒm** (Hashing) lÃ  trÃ¡i tim cá»§a báº£o máº­t Blockchain. ÄÃ¢y lÃ  má»™t thuáº­t toÃ¡n biáº¿n Ä‘á»•i báº¥t ká»³ thÃ´ng tin nÃ o, dÃ¹ lÃ  má»™t chá»¯ cÃ¡i hay má»™t bá»™ phim dÃ i hÃ ng giá», thÃ nh má»™t chuá»—i kÃ½ tá»± cÃ³ Ä‘á»™ dÃ i cá»‘ Ä‘á»‹nh. Thuáº­t toÃ¡n phá»• biáº¿n nháº¥t lÃ  **SHA-256**, luÃ´n cho ra káº¿t quáº£ lÃ  má»™t chuá»—i gá»“m 64 kÃ½ tá»±.

Äiá»u ká»³ diá»‡u á»Ÿ Ä‘Ã¢y lÃ : náº¿u báº¡n thay Ä‘á»•i dÃ¹ chá»‰ má»™t dáº¥u cháº¥m trong dá»¯ liá»‡u gá»‘c, chuá»—i bÄƒm Ä‘áº§u ra sáº½ hoÃ n toÃ n khÃ¡c biá»‡t. Äiá»u nÃ y giá»‘ng nhÆ° dáº¥u vÃ¢n tay cá»§a con ngÆ°á»i: má»—i ngÆ°á»i cÃ³ má»™t dáº¥u vÃ¢n tay duy nháº¥t, vÃ  báº¡n khÃ´ng thá»ƒ suy ngÆ°á»£c tá»« dáº¥u vÃ¢n tay Ä‘á»ƒ tÃ¡i táº¡o toÃ n bá»™ cÆ¡ thá»ƒ. Blockchain sá»­ dá»¥ng Ä‘áº·c tÃ­nh nÃ y Ä‘á»ƒ liÃªn káº¿t cÃ¡c khá»‘i dá»¯ liá»‡u vá»›i nhau vÃ  phÃ¡t hiá»‡n báº¥t ká»³ sá»± giáº£ máº¡o nÃ o.

**CÃ¢y Merkle** (Merkle Tree) lÃ  má»™t cáº¥u trÃºc dá»¯ liá»‡u hÃ¬nh cÃ¢y Ä‘Æ°á»£c xÃ¢y dá»±ng tá»« cÃ¡c giÃ¡ trá»‹ bÄƒm. HÃ£y hÃ¬nh dung báº¡n cÃ³ má»™t ngÃ n giao dá»‹ch cáº§n xÃ¡c thá»±c. Thay vÃ¬ kiá»ƒm tra tá»«ng giao dá»‹ch má»™t, báº¡n cÃ³ thá»ƒ bÄƒm chÃºng theo cáº·p, rá»“i bÄƒm cÃ¡c káº¿t quáº£ theo cáº·p tiáº¿p, cho Ä‘áº¿n khi cÃ²n láº¡i má»™t giÃ¡ trá»‹ duy nháº¥t gá»i lÃ  **Root Hash**. Náº¿u cÃ³ báº¥t ká»³ giao dá»‹ch nÃ o bá»‹ thay Ä‘á»•i, Root Hash sáº½ khÃ¡c Ä‘i, giÃºp phÃ¡t hiá»‡n gian láº­n nhanh chÃ³ng.

---

## CHÆ¯Æ NG 2: NGÃ”N NGá»® Cá»¦A Há»¢P Äá»’NG (SMART CONTRACTS - CÆ  Báº¢N)

Náº¿u Blockchain lÃ  ná»n mÃ³ng, thÃ¬ **Smart Contract** (Há»£p Ä‘á»“ng ThÃ´ng minh) chÃ­nh lÃ  nhá»¯ng tÃ²a nhÃ  Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn Ä‘Ã³. ÄÃ¢y lÃ  nhá»¯ng Ä‘oáº¡n mÃ£ tá»± Ä‘á»™ng thá»±c thi khi cÃ¡c Ä‘iá»u kiá»‡n Ä‘Æ°á»£c Ä‘Ã¡p á»©ng, giá»‘ng nhÆ° má»™t chiáº¿c mÃ¡y bÃ¡n nÆ°á»›c tá»± Ä‘á»™ng: báº¡n bá» tiá»n vÃ o, chá»n sáº£n pháº©m, vÃ  mÃ¡y tá»± Ä‘á»™ng Ä‘Æ°a nÆ°á»›c cho báº¡n mÃ  khÃ´ng cáº§n ngÆ°á»i bÃ¡n hÃ ng.

### Smart Contract - Loáº¡i bá» BÃªn Trung gian

HÃ£y tÆ°á»Ÿng tÆ°á»£ng báº¡n muá»‘n thuÃª má»™t cuá»‘n sÃ¡ch quÃ½ tá»« má»™t ngÆ°á»i láº¡. Theo cÃ¡ch truyá»n thá»‘ng, báº¡n cáº§n má»™t bÃªn thá»© ba Ä‘Ã¡ng tin cáº­y nhÆ° thÆ° viá»‡n Ä‘á»ƒ Ä‘áº£m báº£o ráº±ng báº¡n sáº½ tráº£ sÃ¡ch vÃ  ngÆ°á»i cho thuÃª sáº½ nháº­n Ä‘Æ°á»£c tiá»n. Smart Contract thay tháº¿ vai trÃ² nÃ y: báº¡n gá»­i tiá»n cá»c vÃ o há»£p Ä‘á»“ng, ngÆ°á»i cho thuÃª gá»­i thÃ´ng tin sÃ¡ch. Khi báº¡n tráº£ sÃ¡ch Ä‘Ãºng háº¡n, há»£p Ä‘á»“ng tá»± Ä‘á»™ng hoÃ n tráº£ tiá»n cá»c. KhÃ´ng cáº§n tin tÆ°á»Ÿng ai, chá»‰ cáº§n tin tÆ°á»Ÿng vÃ o Ä‘oáº¡n mÃ£ Ä‘Ã£ Ä‘Æ°á»£c kiá»ƒm chá»©ng.

Äáº·c tÃ­nh nÃ y Ä‘Æ°á»£c gá»i lÃ  **Trustless** (khÃ´ng cáº§n tin tÆ°á»Ÿng). Nghe cÃ³ váº» mÃ¢u thuáº«n, nhÆ°ng thá»±c cháº¥t nÃ³ cÃ³ nghÄ©a lÃ  báº¡n khÃ´ng cáº§n Ä‘áº·t niá»m tin vÃ o con ngÆ°á»i hay tá»• chá»©c, mÃ  tin vÃ o toÃ¡n há»c vÃ  máº­t mÃ£ há»c.

### EVM vÃ  Solidity - NgÃ´n ngá»¯ vÃ  MÃ¡y Thá»±c thi

**Solidity** lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh Ä‘Æ°á»£c  káº¿ riÃªng Ä‘á»ƒ viáº¿t Smart Contract. Náº¿u Smart Contract lÃ  má»™t cÃ´ng thá»©c náº¥u Äƒn, thÃ¬ Solidity lÃ  ngÃ´n ngá»¯ mÃ  Ä‘áº§u báº¿p dÃ¹ng Ä‘á»ƒ viáº¿t ra cÃ´ng thá»©c Ä‘Ã³.

**EVM** (Ethereum Virtual Machine) lÃ  "mÃ¡y tÃ­nh áº£o" thá»±c thi cÃ¡c Smart Contract. Báº¡n cÃ³ thá»ƒ hÃ¬nh dung EVM nhÆ° má»™t dÃ n báº¿p Ä‘Æ°á»£c sao chÃ©p ra hÃ ng nghÃ¬n báº£n giá»‘ng há»‡t nhau, Ä‘áº·t táº¡i nhÃ  cá»§a má»—i node trÃªn toÃ n tháº¿ giá»›i. Khi cÃ³ má»™t lá»‡nh náº¥u Äƒn (gá»i Smart Contract), táº¥t cáº£ cÃ¡c báº¿p Ä‘á»u náº¥u cÃ¹ng má»™t cÃ´ng thá»©c vÃ  pháº£i cho ra cÃ¹ng má»™t mÃ³n Äƒn. Äáº·c tÃ­nh nÃ y gá»i lÃ  **Deterministic** (tÃ­nh táº¥t Ä‘á»‹nh), Ä‘áº£m báº£o ráº±ng dÃ¹ báº¡n há»i báº¥t ká»³ node nÃ o, báº¡n cÅ©ng nháº­n Ä‘Æ°á»£c cÃ¹ng má»™t káº¿t quáº£.

### Gas - NhiÃªn liá»‡u cá»§a Blockchain

KhÃ´ng cÃ³ gÃ¬ lÃ  miá»…n phÃ­, ká»ƒ cáº£ trong tháº¿ giá»›i sá»‘. **Gas** lÃ  Ä‘Æ¡n vá»‹ Ä‘o lÆ°á»ng cÃ´ng nÄƒng tÃ­nh toÃ¡n cáº§n thiáº¿t Ä‘á»ƒ thá»±c hiá»‡n má»™t thao tÃ¡c trÃªn Blockchain. Gá»­i má»™t giao dá»‹ch Ä‘Æ¡n giáº£n cÃ³ thá»ƒ tá»‘n Ã­t gas, nhÆ°ng thá»±c thi má»™t há»£p Ä‘á»“ng phá»©c táº¡p vá»›i nhiá»u phÃ©p tÃ­nh sáº½ tá»‘n nhiá»u gas hÆ¡n.

**Gwei** lÃ  Ä‘Æ¡n vá»‹ tiá»n tá»‡ nhá» dÃ¹ng Ä‘á»ƒ tráº£ phÃ­ gas. Tá»•ng chi phÃ­ báº¡n tráº£ Ä‘Æ°á»£c tÃ­nh báº±ng cÃ´ng thá»©c: Sá»‘ gas tiÃªu thá»¥ nhÃ¢n vá»›i GiÃ¡ gas (tÃ­nh báº±ng Gwei). Trong nhá»¯ng lÃºc máº¡ng lÆ°á»›i Ä‘Ã´ng Ä‘Ãºc, giÃ¡ gas tÄƒng cao. ÄÃ¢y lÃ  cÆ¡ cháº¿ thá»‹ trÆ°á»ng tá»± nhiÃªn Ä‘á»ƒ phÃ¢n bá»• tÃ i nguyÃªn há»¯u háº¡n.

VÃ²ng Ä‘á»i cá»§a má»™t giao dá»‹ch tráº£i qua ba giai Ä‘oáº¡n chÃ­nh. Äáº§u tiÃªn, ngÆ°á»i dÃ¹ng kÃ½ giao dá»‹ch báº±ng khÃ³a riÃªng tÆ° cá»§a mÃ¬nh, giá»‘ng nhÆ° kÃ½ tÃªn vÃ o má»™t tá» sÃ©c. Tiáº¿p theo, máº¡ng lÆ°á»›i cÃ¡c node xÃ¡c thá»±c tÃ­nh há»£p lá»‡ cá»§a chá»¯ kÃ½ vÃ  kiá»ƒm tra sá»‘ dÆ°. Cuá»‘i cÃ¹ng, giao dá»‹ch Ä‘Æ°á»£c ghi vÃ o má»™t khá»‘i má»›i vÃ  trá»Ÿ thÃ nh má»™t pháº§n vÄ©nh viá»…n cá»§a sá»• cÃ¡i.

### Quáº£n lÃ½ Tráº¡ng thÃ¡i - Bá»™ Nhá»› cá»§a Blockchain

**State** (Tráº¡ng thÃ¡i) lÃ  táº­p há»£p táº¥t cáº£ dá»¯ liá»‡u hiá»‡n táº¡i Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn Blockchain: ai sá»Ÿ há»¯u bao nhiÃªu tiá»n, cuá»‘n sÃ¡ch nÃ o Ä‘ang Ä‘Æ°á»£c cho thuÃª, Ä‘iá»ƒm uy tÃ­n cá»§a ngÆ°á»i dÃ¹ng lÃ  bao nhiÃªu.

CÃ³ hai loáº¡i bá»™ nhá»› trong Smart Contract. **Storage** lÃ  bá»™ nhá»› vÄ©nh viá»…n, Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn Blockchain mÃ£i mÃ£i. Chi phÃ­ ghi vÃ o Storage ráº¥t Ä‘áº¯t Ä‘á» vÃ¬ dá»¯ liá»‡u nÃ y pháº£i Ä‘Æ°á»£c sao chÃ©p Ä‘áº¿n hÃ ng nghÃ¬n node. **Memory** vÃ  **Calldata** lÃ  bá»™ nhá»› táº¡m thá»i, chá»‰ tá»“n táº¡i trong thá»i gian má»™t hÃ m Ä‘Æ°á»£c thá»±c thi, giá»‘ng nhÆ° nhÃ¡p trong Ä‘áº§u khi báº¡n tÃ­nh toÃ¡n trÆ°á»›c khi viáº¿t káº¿t quáº£ lÃªn giáº¥y.

---

## CHÆ¯Æ NG 3: CÃC TIÃŠU CHUáº¨N VÃ€ MáºªU THIáº¾T Káº¾ (SMART CONTRACTS - NÃ‚NG CAO)

Khi hÃ ng nghÃ¬n nhÃ  phÃ¡t triá»ƒn cÃ¹ng xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng trÃªn Blockchain, sá»± há»—n loáº¡n sáº½ xáº£y ra náº¿u má»—i ngÆ°á»i lÃ m theo cÃ¡ch riÃªng. ÄÃ³ lÃ  lÃ½ do cÃ¡c **TiÃªu chuáº©n** (Standards) vÃ  **Máº«u Thiáº¿t káº¿** (Design Patterns) ra Ä‘á»i, Ä‘Ã³ng vai trÃ² nhÆ° quy hoáº¡ch Ä‘Ã´ thá»‹ giÃºp cÃ¡c tÃ²a nhÃ  cÃ³ thá»ƒ káº¿t ná»‘i vá»›i nhau qua Ä‘Æ°á»ng sÃ¡, Ä‘iá»‡n nÆ°á»›c thá»‘ng nháº¥t.

### ERC Standards - NgÃ´n ngá»¯ Chung cá»§a Token

**ERC** lÃ  viáº¿t táº¯t cá»§a Ethereum Request for Comments. ÄÃ¢y lÃ  cÃ¡c tiÃªu chuáº©n giao diá»‡n giÃºp Smart Contracts "nÃ³i chuyá»‡n" Ä‘Æ°á»£c vá»›i nhau vÃ  vá»›i cÃ¡c á»©ng dá»¥ng vÃ­, sÃ n giao dá»‹ch.

**ERC-20** lÃ  tiÃªu chuáº©n cho token cÃ³ thá»ƒ thay tháº¿, giá»‘ng nhÆ° tiá»n tá»‡. Má»™t Ä‘á»“ng Bitcoin cá»§a báº¡n cÃ³ giÃ¡ trá»‹ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i má»™t Ä‘á»“ng Bitcoin cá»§a tÃ´i. Trong dá»± Ã¡n VinaLib, token thanh toÃ¡n SuChinToken tuÃ¢n theo chuáº©n nÃ y. Nhá» ERC-20, báº¥t ká»³ vÃ­ Ethereum nÃ o cÅ©ng cÃ³ thá»ƒ hiá»ƒn thá»‹ vÃ  chuyá»ƒn SuChinToken mÃ  khÃ´ng cáº§n viáº¿t thÃªm mÃ£ Ä‘áº·c biá»‡t.

**ERC-721** lÃ  tiÃªu chuáº©n cho token khÃ´ng thá»ƒ thay tháº¿, hay cÃ²n gá»i lÃ  **NFT** (Non-Fungible Token). Má»—i NFT lÃ  duy nháº¥t, giá»‘ng nhÆ° má»™t tÃ¡c pháº©m nghá»‡ thuáº­t nguyÃªn báº£n. Trong VinaLib, má»—i cuá»‘n sÃ¡ch váº­t lÃ½ Ä‘Æ°á»£c Ä‘áº¡i diá»‡n bá»Ÿi má»™t NFT riÃªng biá»‡t (BookAsset), cÃ³ ID duy nháº¥t vÃ  khÃ´ng thá»ƒ Ä‘Ã¡nh Ä‘á»“ng vá»›i cuá»‘n sÃ¡ch khÃ¡c.

**ERC-4907** lÃ  má»™t chuáº©n má»Ÿ rá»™ng quan trá»ng cho viá»‡c cho thuÃª NFT. Chuáº©n nÃ y phÃ¢n biá»‡t rÃµ rÃ ng giá»¯a **ngÆ°á»i sá»Ÿ há»¯u** (Owner) vÃ  **ngÆ°á»i sá»­ dá»¥ng** (User). Chá»§ sá»Ÿ há»¯u váº«n giá»¯ quyá»n sá»Ÿ há»¯u NFT nhÆ°ng táº¡m thá»i cáº¥p quyá»n sá»­ dá»¥ng cho ngÆ°á»i khÃ¡c trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh. Khi háº¿t háº¡n, quyá»n sá»­ dá»¥ng tá»± Ä‘á»™ng thu há»“i. ÄÃ¢y chÃ­nh lÃ  cÆ¡ cháº¿ cá»‘t lÃµi cho tÃ­nh nÄƒng cho thuÃª sÃ¡ch trong VinaLib.

### Design Patterns - Kiáº¿n trÃºc An toÃ n

**Ownable** lÃ  máº«u thiáº¿t káº¿ quáº£n lÃ½ quyá»n kiá»ƒm soÃ¡t. HÃ£y tÆ°á»Ÿng tÆ°á»£ng má»™t cÄƒn nhÃ  cÃ³ má»™t chÃ¬a khÃ³a chá»§: chá»‰ ngÆ°á»i giá»¯ chÃ¬a khÃ³a nÃ y má»›i cÃ³ thá»ƒ thá»±c hiá»‡n cÃ¡c thao tÃ¡c quan trá»ng nhÆ° thay Ä‘á»•i cáº¥u hÃ¬nh hoáº·c dá»«ng há»‡ thá»‘ng kháº©n cáº¥p. Trong VinaLib, chá»‰ Admin má»›i cÃ³ quyá»n táº¡o NFT sÃ¡ch má»›i, xÃ¡c minh tÃ¬nh tráº¡ng sÃ¡ch, hoáº·c duyá»‡t cÃ¡c yÃªu cáº§u thuÃª Ä‘áº·c biá»‡t.

**Pausable** lÃ  máº«u thiáº¿t káº¿ "ngáº¯t máº¡ch kháº©n cáº¥p". Giá»‘ng nhÆ° cáº§u dao Ä‘iá»‡n trong nhÃ , khi phÃ¡t hiá»‡n sá»± cá»‘ hoáº·c bá»‹ táº¥n cÃ´ng, Admin cÃ³ thá»ƒ táº¡m dá»«ng toÃ n bá»™ hoáº¡t Ä‘á»™ng cá»§a Smart Contract Ä‘á»ƒ ngÄƒn cháº·n thiá»‡t háº¡i lan rá»™ng. Sau khi sá»± cá»‘ Ä‘Æ°á»£c giáº£i quyáº¿t, há»‡ thá»‘ng cÃ³ thá»ƒ Ä‘Æ°á»£c khá»Ÿi Ä‘á»™ng láº¡i.

**Inheritance** (Káº¿ thá»«a) lÃ  cÆ¡ cháº¿ cho phÃ©p má»™t Smart Contract thá»«a hÆ°á»Ÿng cÃ¡c tÃ­nh nÄƒng tá»« má»™t Smart Contract khÃ¡c, giá»‘ng nhÆ° con thá»«a káº¿ Ä‘áº·c Ä‘iá»ƒm tá»« cha máº¹. Thay vÃ¬ viáº¿t láº¡i tá»« Ä‘áº§u cÃ¡c tÃ­nh nÄƒng báº£o máº­t, nhÃ  phÃ¡t triá»ƒn cÃ³ thá»ƒ káº¿ thá»«a tá»« cÃ¡c thÆ° viá»‡n Ä‘Ã£ Ä‘Æ°á»£c kiá»ƒm Ä‘á»‹nh nhÆ° OpenZeppelin, giáº£m thiá»ƒu lá»—i vÃ  tÄƒng Ä‘á»™ tin cáº­y.

### Soulbound Token - Danh tÃ­nh Sá»‘ KhÃ´ng Thá»ƒ Chuyá»ƒn nhÆ°á»£ng

**SBT** (Soulbound Token) lÃ  má»™t dáº¡ng NFT Ä‘áº·c biá»‡t, Ä‘Æ°á»£c "gáº¯n liá»n vá»›i linh há»“n" cá»§a chá»§ sá»Ÿ há»¯u. KhÃ¡c vá»›i NFT thÃ´ng thÆ°á»ng cÃ³ thá»ƒ mua bÃ¡n trao Ä‘á»•i, SBT khÃ´ng thá»ƒ chuyá»ƒn nhÆ°á»£ng cho ngÆ°á»i khÃ¡c.

HÃ£y nghÄ© vá» báº±ng Ä‘áº¡i há»c cá»§a báº¡n: nÃ³ chá»©ng minh ráº±ng báº¡n Ä‘Ã£ hoÃ n thÃ nh chÆ°Æ¡ng trÃ¬nh há»c, nhÆ°ng báº¡n khÃ´ng thá»ƒ bÃ¡n táº¥m báº±ng nÃ y cho ngÆ°á»i khÃ¡c. Trong VinaLib, má»—i há»£p Ä‘á»“ng thuÃª sÃ¡ch Ä‘Æ°á»£c Ä‘áº¡i diá»‡n bá»Ÿi má»™t SBT (RentalAgreementSBT). Token nÃ y chá»©ng minh ráº±ng ngÆ°á»i dÃ¹ng Ä‘Ã£ kÃ½ káº¿t thá»a thuáº­n, vÃ  lá»‹ch sá»­ thuÃª sÃ¡ch cá»§a há» Ä‘Æ°á»£c ghi láº¡i vÄ©nh viá»…n Ä‘á»ƒ xÃ¢y dá»±ng Ä‘iá»ƒm uy tÃ­n.

---

## CHÆ¯Æ NG 4: LÆ¯U TRá»® Dá»® LIá»†U PHI Táº¬P TRUNG (IPFS)

Blockchain ráº¥t phÃ¹ há»£p Ä‘á»ƒ lÆ°u trá»¯ cÃ¡c giao dá»‹ch vÃ  tráº¡ng thÃ¡i, nhÆ°ng lÆ°u trá»¯ file lá»›n nhÆ° áº£nh bÃ¬a sÃ¡ch hay tÃ i liá»‡u trÃªn Ä‘Ã³ lÃ  khÃ´ng kháº£ thi vá» máº·t chi phÃ­. **IPFS** (InterPlanetary File System) ra Ä‘á»i Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y.

### Content Addressing - Äá»‹nh danh báº±ng Ná»™i dung

Há»‡ thá»‘ng lÆ°u trá»¯ truyá»n thá»‘ng sá»­ dá»¥ng Ä‘á»‹a chá»‰ vá»‹ trÃ­ Ä‘á»ƒ tÃ¬m file. Khi báº¡n truy cáº­p má»™t trang web, báº¡n há»i mÃ¡y chá»§ táº¡i Ä‘á»‹a chá»‰ cá»¥ thá»ƒ: "Cho tÃ´i file náº±m á»Ÿ thÆ° má»¥c nÃ y". Váº¥n Ä‘á» lÃ  náº¿u mÃ¡y chá»§ Ä‘Ã³ ngá»«ng hoáº¡t Ä‘á»™ng, báº¡n máº¥t quyá»n truy cáº­p dÃ¹ file cÃ³ thá»ƒ tá»“n táº¡i á»Ÿ nÆ¡i khÃ¡c.

IPFS sá»­ dá»¥ng **Content Addressing** (Ä‘á»‹nh danh theo ná»™i dung). Thay vÃ¬ há»i "file á»Ÿ Ä‘Ã¢u", báº¡n há»i "ai cÃ³ file cÃ³ ná»™i dung nÃ y". Má»—i file Ä‘Æ°á»£c gÃ¡n má»™t mÃ£ Ä‘á»‹nh danh duy nháº¥t gá»i lÃ  **CID** (Content Identifier), Ä‘Æ°á»£c táº¡o ra báº±ng cÃ¡ch bÄƒm ná»™i dung cá»§a file. Náº¿u hai file giá»‘ng há»‡t nhau byte-by-byte, chÃºng sáº½ cÃ³ cÃ¹ng CID. Náº¿u thay Ä‘á»•i dÃ¹ chá»‰ má»™t bit, CID sáº½ hoÃ n toÃ n khÃ¡c.

### LÆ°u trá»¯ Ngang hÃ ng (P2P)

IPFS hoáº¡t Ä‘á»™ng theo mÃ´ hÃ¬nh ngang hÃ ng (Peer-to-Peer). Khi báº¡n táº£i má»™t file lÃªn IPFS, file Ä‘Ã³ khÃ´ng Ä‘Æ°á»£c gá»­i Ä‘áº¿n má»™t mÃ¡y chá»§ trung tÃ¢m mÃ  Ä‘Æ°á»£c chia nhá» vÃ  phÃ¢n tÃ¡n trÃªn nhiá»u node trong máº¡ng lÆ°á»›i. Khi ai Ä‘Ã³ yÃªu cáº§u file báº±ng CID, máº¡ng lÆ°á»›i sáº½ tÃ¬m vÃ  ghÃ©p cÃ¡c máº£nh tá»« cÃ¡c node gáº§n nháº¥t.

Äiá»u nÃ y mang láº¡i hai lá»£i Ã­ch quan trá»ng. Thá»© nháº¥t lÃ  kháº£ nÄƒng chá»‘ng kiá»ƒm duyá»‡t: khÃ´ng ai cÃ³ thá»ƒ xÃ³a file khá»i máº¡ng lÆ°á»›i vÃ¬ khÃ´ng cÃ³ mÃ¡y chá»§ trung tÃ¢m Ä‘á»ƒ táº¥n cÃ´ng. Thá»© hai lÃ  tÄƒng tá»‘c Ä‘á»™ táº£i: file cÃ³ thá»ƒ Ä‘Æ°á»£c láº¥y tá»« nhiá»u nguá»“n cÃ¹ng lÃºc, giá»‘ng nhÆ° táº£i torrent.

### Gateway vÃ  Pinning

**IPFS Gateway** lÃ  cáº§u ná»‘i giÃºp cÃ¡c trÃ¬nh duyá»‡t web thÃ´ng thÆ°á»ng truy cáº­p ná»™i dung IPFS mÃ  khÃ´ng cáº§n cÃ i Ä‘áº·t pháº§n má»m Ä‘áº·c biá»‡t. Báº¡n cÃ³ thá»ƒ truy cáº­p má»™t file IPFS thÃ´ng qua URL dáº¡ng "ipfs.io/ipfs/CID" nhÆ° truy cáº­p báº¥t ká»³ website nÃ o.

**Pinning** lÃ  hÃ nh Ä‘á»™ng "ghim" dá»¯ liá»‡u táº¡i má»™t hoáº·c nhiá»u node cá»¥ thá»ƒ. Theo máº·c Ä‘á»‹nh, cÃ¡c node IPFS sáº½ tá»± Ä‘á»™ng xÃ³a dá»¯ liá»‡u Ã­t Ä‘Æ°á»£c truy cáº­p Ä‘á»ƒ giáº£i phÃ³ng bá»™ nhá»› (Garbage Collection). Náº¿u báº¡n muá»‘n Ä‘áº£m báº£o dá»¯ liá»‡u luÃ´n kháº£ dá»¥ng, báº¡n cáº§n "ghim" nÃ³, hoáº·c sá»­ dá»¥ng cÃ¡c dá»‹ch vá»¥ Pinning chuyÃªn nghiá»‡p nhÆ° Pinata hay Infura.

---

## CHÆ¯Æ NG 5: Há»† THá»NG TIÃŠN TOÃN (CHAINLINK ORACLE)

Smart Contract trÃªn Blockchain cÃ³ má»™t háº¡n cháº¿ lá»›n: chÃºng sá»‘ng trong má»™t "bong bÃ³ng" khÃ©p kÃ­n, khÃ´ng thá»ƒ tá»± gá»i API bÃªn ngoÃ i hay láº¥y dá»¯ liá»‡u tá»« tháº¿ giá»›i thá»±c. LÃ m sao Smart Contract biáº¿t Ä‘Æ°á»£c giÃ¡ vÃ ng hÃ´m nay? LÃ m sao xÃ¡c nháº­n má»™t cuá»‘n sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c tráº£? ÄÃ¢y lÃ  nÆ¡i **Oracle** xuáº¥t hiá»‡n.

### Oracle Problem - BÃ i toÃ¡n Káº¿t ná»‘i

**Oracle Problem** (BÃ i toÃ¡n TiÃªn toÃ¡n) mÃ´ táº£ thÃ¡ch thá»©c cá»‘t lÃµi: lÃ m sao Ä‘Æ°a dá»¯ liá»‡u bÃªn ngoÃ i vÃ o Blockchain má»™t cÃ¡ch Ä‘Ã¡ng tin cáº­y? Náº¿u chá»‰ cÃ³ má»™t nguá»“n dá»¯ liá»‡u duy nháº¥t, nguá»“n Ä‘Ã³ cÃ³ thá»ƒ bá»‹ lá»—i hoáº·c bá»‹ thao tÃºng. Náº¿u Smart Contract dá»±a vÃ o dá»¯ liá»‡u sai, má»i quyáº¿t Ä‘á»‹nh cá»§a nÃ³ Ä‘á»u sai theo.

HÃ£y tÆ°á»Ÿng tÆ°á»£ng má»™t há»£p Ä‘á»“ng báº£o hiá»ƒm nÃ´ng nghiá»‡p tráº£ tiá»n tá»± Ä‘á»™ng khi cÃ³ háº¡n hÃ¡n. LÃ m sao Smart Contract biáº¿t Ä‘Æ°á»£c lÆ°á»£ng mÆ°a á»Ÿ má»™t vÃ¹ng nÃ´ng thÃ´n? NÃ³ khÃ´ng thá»ƒ tá»± Ä‘o, mÃ  pháº£i tin tÆ°á»Ÿng vÃ o má»™t nguá»“n dá»¯ liá»‡u bÃªn ngoÃ i.

### Chainlink - Máº¡ng lÆ°á»›i Oracle Phi táº­p trung

**Chainlink** giáº£i quyáº¿t Oracle Problem báº±ng cÃ¡ch táº¡o ra má»™t máº¡ng lÆ°á»›i Oracle phi táº­p trung (Decentralized Oracle Network, viáº¿t táº¯t lÃ  DON). Thay vÃ¬ tin tÆ°á»Ÿng má»™t nguá»“n duy nháº¥t, Chainlink thu tháº­p dá»¯ liá»‡u tá»« nhiá»u nguá»“n Ä‘á»™c láº­p, so sÃ¡nh vÃ  tá»•ng há»£p Ä‘á»ƒ Ä‘Æ°a ra káº¿t quáº£ Ä‘Ã¡ng tin cáº­y.

HÃ£y nghÄ© vá» nÃ³ nhÆ° má»™t phiÃªn tÃ²a: thay vÃ¬ chá»‰ nghe má»™t nhÃ¢n chá»©ng, báº¡n nghe nhiá»u nhÃ¢n chá»©ng Ä‘á»™c láº­p vÃ  Ä‘á»‘i chiáº¿u lá»i khai cá»§a há». Náº¿u Ä‘a sá»‘ Ä‘á»“ng Ã½, káº¿t quáº£ Ä‘Æ°á»£c cháº¥p nháº­n. Náº¿u cÃ³ sá»± báº¥t nháº¥t Ä‘Ã¡ng ngá», há»‡ thá»‘ng sáº½ cáº£nh bÃ¡o.

### Data Feeds - Nguá»“n Dá»¯ liá»‡u Sáºµn cÃ³

Thay vÃ¬ tá»± request dá»¯ liá»‡u má»—i láº§n cáº§n (tá»‘n gas, cháº­m), báº¡n cÃ³ thá»ƒ Ä‘á»c tá»« "báº£ng giÃ¡ cÃ´ng khai" mÃ  Chainlink cáº­p nháº­t liÃªn tá»¥c sáºµn. VÃ­ dá»¥, giÃ¡ cáº£ cá»§a Ethereum so vá»›i USD Ä‘Æ°á»£c cáº­p nháº­t má»—i khi cÃ³ sá»± thay Ä‘á»•i lá»›n hÆ¡n ná»­a pháº§n trÄƒm hoáº·c má»—i giá» má»™t láº§n. Smart Contract cá»§a báº¡n chá»‰ cáº§n Ä‘á»c giÃ¡ trá»‹ má»›i nháº¥t mÃ  khÃ´ng cáº§n tá»‘n phÃ­ gá»­i request riÃªng.

### VRF - Sá»‘ Ngáº«u nhiÃªn CÃ³ thá»ƒ Kiá»ƒm chá»©ng

**VRF** (Verifiable Random Function) táº¡o sá»‘ ngáº«u nhiÃªn "cÃ´ng báº±ng khÃ´ng thá»ƒ gian láº­n" cho blockchain. Blockchain khÃ´ng thá»ƒ tá»± táº¡o random vÃ¬ má»i thá»© Ä‘á»u deterministic (ai cÅ©ng tÃ­nh ra Ä‘Æ°á»£c káº¿t quáº£). Viá»‡c sá»­ dá»¥ng thá»i gian block hay block hash cÃ³ thá»ƒ bá»‹ thao tÃºng bá»Ÿi miners.

Chainlink VRF sá»­ dá»¥ng máº­t mÃ£ há»c Ä‘á»ƒ táº¡o ra sá»‘ ngáº«u nhiÃªn kÃ¨m theo báº±ng chá»©ng toÃ¡n há»c (proof). Báº¥t ká»³ ai cÅ©ng cÃ³ thá»ƒ verify on-chain ráº±ng sá»‘ Ä‘Ã³ Ä‘Æ°á»£c táº¡o ra Ä‘Ãºng cÃ¡ch vÃ  khÃ´ng thá»ƒ dá»± Ä‘oÃ¡n trÆ°á»›c. Äiá»u nÃ y quan trá»ng cho xá»• sá»‘, game, NFT vá»›i Ä‘áº·c Ä‘iá»ƒm ngáº«u nhiÃªn, hay báº¥t cá»© á»©ng dá»¥ng nÃ o cáº§n tÃ­nh cÃ´ng báº±ng.

### Automation - Robot Tá»± Ä‘á»™ng

Smart contracts khÃ´ng thá»ƒ tá»± Ä‘á»™ng cháº¡y. Cáº§n cÃ³ ai Ä‘Ã³ (hoáº·c cÃ¡i gÃ¬ Ä‘Ã³) gá»i function Ä‘á»ƒ kÃ­ch hoáº¡t. **Chainlink Automation** (trÆ°á»›c Ä‘Ã¢y gá»i lÃ  Keepers) = "robot" tá»± Ä‘á»™ng gá»i function theo Ä‘iá»u kiá»‡n.

VÃ­ dá»¥, má»™t DeFi Yield Farm cáº§n distribute rewards má»—i hai mÆ°Æ¡i bá»‘n giá». Thay vÃ¬ Admin pháº£i nhá»› gá»i hÃ m má»—i ngÃ y (rá»§i ro quÃªn), Chainlink Automation tá»± Ä‘á»™ng kiá»ƒm tra Ä‘iá»u kiá»‡n (Ä‘Ã£ Ä‘á»§ hai mÆ°Æ¡i bá»‘n giá» chÆ°a?) vÃ  tá»± Ä‘á»™ng thá»±c thi function khi Ä‘iá»u kiá»‡n Ä‘Æ°á»£c Ä‘Ã¡p á»©ng. KhÃ´ng cáº§n can thiá»‡p thá»§ cÃ´ng, há»‡ thá»‘ng hoáº¡t Ä‘á»™ng liÃªn tá»¥c báº£y ngÃ y trong tuáº§n.

### Functions - Thá»±c thi Code TÃ¹y chá»‰nh

**Chainlink Functions** cho phÃ©p smart contract cháº¡y **báº¥t ká»³ code JavaScript nÃ o** bÃªn ngoÃ i blockchain, sau Ä‘Ã³ tráº£ káº¿t quáº£ vá» on-chain. ÄÃ¢y lÃ  cÃ´ng cá»¥ máº¡nh máº½ hÆ¡n oracle truyá»n thá»‘ng (chá»‰ láº¥y dá»¯ liá»‡u sáºµn cÃ³), vÃ¬ báº¡n cÃ³ thá»ƒ xá»­ lÃ½, tÃ­nh toÃ¡n, káº¿t há»£p nhiá»u APIs.

VÃ­ dá»¥, trong VinaLib, báº¡n cÃ³ thá»ƒ viáº¿t code JavaScript Ä‘á»ƒ láº¥y lá»‹ch sá»­ thuÃª sÃ¡ch tá»« cÆ¡ sá»Ÿ dá»¯ liá»‡u off-chain, tÃ­nh toÃ¡n Ä‘iá»ƒm uy tÃ­n dá»±a trÃªn nhiá»u yáº¿u tá»‘ (tráº£ sÃ¡ch Ä‘Ãºng háº¡n, tÃ¬nh tráº¡ng sÃ¡ch khi tráº£, sá»‘ láº§n thuÃª...), rá»“i tráº£ káº¿t quáº£ vá» Smart Contract Ä‘á»ƒ quyáº¿t Ä‘á»‹nh cÃ³ auto-approve yÃªu cáº§u thuÃª má»›i hay khÃ´ng.

Functions cÅ©ng cÃ³ kháº£ nÄƒng xá»­ lÃ½ secrets (API keys, passwords) má»™t cÃ¡ch an toÃ n. Báº¡n mÃ£ hÃ³a secrets trÆ°á»›c khi gá»­i, vÃ  chá»‰ cÃ¡c node trong Decentralized Oracle Network má»›i cÃ³ thá»ƒ giáº£i mÃ£ trong mÃ´i trÆ°á»ng báº£o máº­t (Trusted Execution Environment). Äiá»u nÃ y cho phÃ©p káº¿t ná»‘i vá»›i cÃ¡c API private mÃ  khÃ´ng lá»™ credentials.

### Off-Chain Reporting (OCR) - Tá»‘i Æ°u Gas

TrÆ°á»›c Ä‘Ã¢y, má»—i oracle node pháº£i gá»­i má»™t transaction riÃªng lÃªn blockchain Ä‘á»ƒ bÃ¡o cÃ¡o dá»¯ liá»‡u cá»§a mÃ¬nh. Náº¿u cÃ³ mÆ°á»i oracle nodes, nghÄ©a lÃ  mÆ°á»i transactions, tá»‘n ráº¥t nhiá»u gas.

**OCR** thay Ä‘á»•i cÃ¡ch nÃ y. CÃ¡c oracle nodes trao Ä‘á»•i dá»¯ liá»‡u vá»›i nhau off-chain (qua máº¡ng peer-to-peer), Ä‘áº¡t Ä‘Æ°á»£c Ä‘á»“ng thuáº­n vá» káº¿t quáº£ cuá»‘i cÃ¹ng, rá»“i chá»‰ gá»­i **má»™t transaction duy nháº¥t** lÃªn blockchain chá»©a káº¿t quáº£ Ä‘Ã£ Ä‘Æ°á»£c tá»•ng há»£p vÃ  cÃ¡c chá»¯ kÃ½ cá»§a táº¥t cáº£ nodes. Äiá»u nÃ y giáº£m chi phÃ­ gas xuá»‘ng tÃ¡m mÆ°Æ¡i lÄƒm pháº§n trÄƒm, lÃ m cho Chainlink services trá»Ÿ nÃªn ráº» hÆ¡n nhiá»u.

---

## CHÆ¯Æ NG 6: KIáº¾N TRÃšC Há»† THá»NG VÃ€ RWA (ADVANCED APPLICATIONS)

Khi táº¥t cáº£ cÃ¡c thÃ nh pháº§n trÃªn Ä‘Æ°á»£c káº¿t há»£p, chÃºng ta cÃ³ thá»ƒ xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng phá»©c táº¡p káº¿t ná»‘i tháº¿ giá»›i sá»‘ vá»›i tháº¿ giá»›i thá»±c. ÄÃ¢y lÃ  lÄ©nh vá»±c cá»§a **RWA** (Real World Assets) vÃ  **Hybrid Smart Contracts**.

### RWA - ÄÆ°a TÃ i sáº£n Thá»±c lÃªn Blockchain

**Real World Assets** (TÃ i sáº£n Tháº¿ giá»›i Thá»±c) lÃ  quÃ¡ trÃ¬nh Ä‘áº¡i diá»‡n cÃ¡c tÃ i sáº£n váº­t lÃ½ nhÆ° báº¥t Ä‘á»™ng sáº£n, vÃ ng, hay sÃ¡ch trÃªn Blockchain dÆ°á»›i dáº¡ng token. Äiá»u nÃ y má»Ÿ ra kháº£ nÄƒng chia nhá» quyá»n sá»Ÿ há»¯u, tÄƒng tÃ­nh thanh khoáº£n vÃ  tá»± Ä‘á»™ng hÃ³a cÃ¡c giao dá»‹ch.

Trong VinaLib, má»—i cuá»‘n sÃ¡ch váº­t lÃ½ Ä‘Æ°á»£c token hÃ³a thÃ nh má»™t NFT. Quyá»n sá»Ÿ há»¯u vÃ  lá»‹ch sá»­ thuÃª Ä‘Æ°á»£c ghi láº¡i minh báº¡ch trÃªn Blockchain. Tiá»n cá»c Ä‘Æ°á»£c giá»¯ trong Smart Contract thay vÃ¬ trong tay cÃ¡ nhÃ¢n. Má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng hÃ³a vÃ  cÃ³ thá»ƒ kiá»ƒm chá»©ng.

### Hybrid Smart Contracts - Káº¿t há»£p On-chain vÃ  Off-chain

**Hybrid Smart Contracts** (Há»£p Ä‘á»“ng Lai) káº¿t há»£p sá»©c máº¡nh cá»§a Blockchain vá»›i dá»¯ liá»‡u vÃ  tÃ­nh toÃ¡n tá»« bÃªn ngoÃ i. Má»™t Hybrid Smart Contract Ä‘iá»ƒn hÃ¬nh cÃ³ ba thÃ nh pháº§n.

Pháº§n Ä‘áº§u tiÃªn lÃ  **Logic On-chain**: Smart Contract xá»­ lÃ½ cÃ¡c quyáº¿t Ä‘á»‹nh tÃ i chÃ­nh nhÆ° giá»¯ cá»c, hoÃ n tiá»n, pháº¡t trá»… háº¡n. Pháº§n thá»© hai lÃ  **Dá»¯ liá»‡u Off-chain**: IPFS lÆ°u trá»¯ áº£nh bÃ¬a sÃ¡ch vÃ  mÃ´ táº£ chi tiáº¿t. CÆ¡ sá»Ÿ dá»¯ liá»‡u truyá»n thá»‘ng lÆ°u trá»¯ Ä‘iá»ƒm uy tÃ­n vÃ  lá»‹ch sá»­ chi tiáº¿t. Pháº§n thá»© ba lÃ  **Káº¿t ná»‘i Tháº¿ giá»›i Thá»±c**: IoT vÃ  cáº£m biáº¿n xÃ¡c nháº­n sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c tráº£, khÃ³a thÃ´ng minh má»Ÿ khi giao dá»‹ch Ä‘Æ°á»£c duyá»‡t.

### Mainnet vÃ  Testnet

**Mainnet** lÃ  máº¡ng lÆ°á»›i Blockchain chÃ­nh thá»©c nÆ¡i cÃ¡c giao dá»‹ch cÃ³ giÃ¡ trá»‹ tÃ i chÃ­nh thá»±c. Triá»ƒn khai trÃªn Mainnet Ä‘Ã²i há»i sá»± cáº©n tháº­n cao Ä‘á»™ vÃ¬ má»i sai láº§m Ä‘á»u cÃ³ thá»ƒ gÃ¢y thiá»‡t háº¡i thá»±c sá»±.

**Testnet** lÃ  máº¡ng lÆ°á»›i thá»­ nghiá»‡m dÃ nh cho nhÃ  phÃ¡t triá»ƒn. CÃ¡c Ä‘á»“ng coin trÃªn Testnet khÃ´ng cÃ³ giÃ¡ trá»‹ thá»±c, cho phÃ©p báº¡n thá»­ nghiá»‡m thoáº£i mÃ¡i mÃ  khÃ´ng sá»£ máº¥t tiá»n. CÃ¡c Testnet phá»• biáº¿n bao gá»“m Sepolia cho Ethereum, vÃ  Fuji cho Avalanche.

Quy trÃ¬nh phÃ¡t triá»ƒn tiÃªu chuáº©n bao gá»“m: phÃ¡t triá»ƒn vÃ  thá»­ nghiá»‡m trÃªn mÃ´i trÆ°á»ng local (nhÆ° Hardhat), triá»ƒn khai lÃªn Testnet Ä‘á»ƒ kiá»ƒm tra vá»›i Ä‘iá»u kiá»‡n gáº§n thá»±c táº¿, vÃ  cuá»‘i cÃ¹ng triá»ƒn khai lÃªn Mainnet khi Ä‘Ã£ sáºµn sÃ ng.

### Layer 1 vÃ  Layer 2 - Giáº£i phÃ¡p Má»Ÿ rá»™ng

Má»™t cÃ¢u há»i quan trá»ng khi triá»ƒn khai á»©ng dá»¥ng blockchain lÃ : nÃªn deploy lÃªn Ä‘Ã¢u? **Layer 1** (Ethereum mainnet) hay **Layer 2** (Polygon, Arbitrum...)?

**Layer 1** giá»‘ng nhÆ° Ä‘Æ°á»ng cao tá»‘c chÃ­nh - an toÃ n vÃ  Ä‘Ã¡ng tin cáº­y nháº¥t, nhÆ°ng Ä‘Ã´ng Ä‘Ãºc vÃ  phÃ­ cao. Khi máº¡ng lÆ°á»›i Ä‘Ã´ng, má»™t giao dá»‹ch Ä‘Æ¡n giáº£n cÃ³ thá»ƒ tá»‘n tá»« $5 Ä‘áº¿n $50 chá»‰ Ä‘á»ƒ tráº£ phÃ­ gas. Workflow thuÃª má»™t cuá»‘n sÃ¡ch trÃªn VinaLib (approve token, táº¡o rental, lock tiá»n cá»c, mint SBT) cÃ³ thá»ƒ tá»‘n lÃªn Ä‘áº¿n $65 chá»‰ cho phÃ­ gas!

**Layer 2** giá»‘ng nhÆ° nhá»¯ng Ä‘Æ°á»ng vÃ²ng song song Ä‘Æ°á»£c xÃ¢y dá»±ng Ä‘á»ƒ giáº£m táº£i cho Ä‘Æ°á»ng chÃ­nh. ChÃºng xá»­ lÃ½ giao dá»‹ch nhanh hÆ¡n vÃ  ráº» hÆ¡n, nhÆ°ng váº«n liÃªn káº¿t vá»›i Layer 1 Ä‘á»ƒ káº¿ thá»«a tÃ­nh báº£o máº­t. CÃ¹ng workflow thuÃª sÃ¡ch Ä‘Ã³ trÃªn Polygon (má»™t L2) chá»‰ tá»‘n khoáº£ng $0.008 - ráº» hÆ¡n gáº¥p 8000 láº§n!

**Táº¡i sao Layer 2 ráº» hÆ¡n?** Layer 2 xá»­ lÃ½ hÃ ng nghÃ¬n giao dá»‹ch cÃ¹ng lÃºc, sau Ä‘Ã³ chá»‰ gá»­i má»™t "báº£n tÃ³m táº¯t" lÃªn Layer 1. Giá»‘ng nhÆ° thay vÃ¬ gá»­i má»™t lÃ¡ thÆ° riÃªng cho tá»«ng ngÆ°á»i, báº¡n gá»™p táº¥t cáº£ vÃ o má»™t kiá»‡n hÃ ng duy nháº¥t. Chi phÃ­ Ä‘Æ°á»£c chia sáº» giá»¯a hÃ ng nghÃ¬n giao dá»‹ch, nÃªn má»—i ngÆ°á»i chá»‰ tráº£ má»™t pháº§n ráº¥t nhá».

**Nhá»¯ng lá»±a chá»n Layer 2 phá»• biáº¿n:**

**Polygon** (lá»±a chá»n cá»§a VinaLib) lÃ  "sidechain" - má»™t blockchain song song cháº¡y ráº¥t nhanh (2 giÃ¢y/block so vá»›i 15 giÃ¢y cá»§a Ethereum) vÃ  ráº¥t ráº». Má»—i 30 phÃºt, Polygon gá»­i má»™t "checkpoint" (Ä‘iá»ƒm kiá»ƒm tra) lÃªn Ethereum Ä‘á»ƒ Ä‘áº£m báº£o an toÃ n. Polygon hoáº¡t Ä‘á»™ng giá»‘ng há»‡t Ethereum vá» máº·t code (100% tÆ°Æ¡ng thÃ­ch), nÃªn cÃ¡c Smart Contract chá»‰ cáº§n copy-paste lÃ  cháº¡y ngay.

**Optimism vÃ  Arbitrum** lÃ  "Optimistic Rollups" - chÃºng giáº£ Ä‘á»‹nh táº¥t cáº£ giao dá»‹ch Ä‘á»u há»£p lá»‡, vÃ  chá»‰ kiá»ƒm tra náº¿u cÃ³ ai khiáº¿u náº¡i trong vÃ²ng 7 ngÃ y. Äiá»u nÃ y lÃ m giáº£m cÃ´ng viá»‡c cáº§n thiáº¿t, nhÆ°ng cÃ³ nghÄ©a báº¡n pháº£i Ä‘á»£i 7 ngÃ y Ä‘á»ƒ rÃºt tiá»n vá» Ethereum.

**zkSync vÃ  StarkNet** sá»­ dá»¥ng toÃ¡n há»c cao cáº¥p (zero-knowledge proofs) Ä‘á»ƒ chá»©ng minh ngay láº­p tá»©c ráº±ng giao dá»‹ch há»£p lá»‡ mÃ  khÃ´ng cáº§n kiá»ƒm tra tá»«ng chi tiáº¿t. ChÃºng ráº¥t an toÃ n vÃ  nhanh, nhÆ°ng phá»©c táº¡p hÆ¡n vÃ  Ä‘Ã´i khi khÃ´ng tÆ°Æ¡ng thÃ­ch 100% vá»›i Ethereum code.

**Trade-offs (Sá»± Ä‘Ã¡nh Ä‘á»•i):**

Layer 2 khÃ´ng pháº£i lÃ  hoÃ n háº£o. Báº¡n pháº£i cháº¥p nháº­n má»™t sá»‘ thá»a hiá»‡p. **TÃ­nh phi táº­p trung** giáº£m má»™t chÃºt: Ethereum cÃ³ hÃ ng trÄƒm nghÃ¬n validators, cÃ²n Polygon chá»‰ cÃ³ khoáº£ng 100. NhÆ°ng Ä‘á»‘i vá»›i á»©ng dá»¥ng cho thuÃª sÃ¡ch nhÆ° VinaLib, 100 validators váº«n lÃ  Ä‘á»§ an toÃ n. 

**Finality** (tÃ­nh cháº¯c cháº¯n cuá»‘i cÃ¹ng) cÅ©ng khÃ¡c: trÃªn Polygon, giao dá»‹ch Ä‘Æ°á»£c xÃ¡c nháº­n "má»m" sau 2 giÃ¢y (Ä‘á»§ cho háº§u háº¿t trÆ°á»ng há»£p), nhÆ°ng chá»‰ cháº¯c cháº¯n hoÃ n toÃ n sau khi checkpoint Ä‘Æ°á»£c gá»­i lÃªn Ethereum (30 phÃºt). Vá»›i á»©ng dá»¥ng cho thuÃª sÃ¡ch, Ä‘iá»u nÃ y hoÃ n toÃ n cháº¥p nháº­n Ä‘Æ°á»£c - khÃ´ng ai cáº§n Ä‘á»™ cháº¯c cháº¯n tuyá»‡t Ä‘á»‘i trong 2 giÃ¢y khi thuÃª má»™t cuá»‘n sÃ¡ch.

**Bridging** (cáº§u ná»‘i giá»¯a cÃ¡c layers) lÃ  quÃ¡ trÃ¬nh chuyá»ƒn tÃ i sáº£n tá»« Layer 1 sang Layer 2 vÃ  ngÆ°á»£c láº¡i. Náº¿u báº¡n cÃ³ ETH trÃªn Ethereum vÃ  muá»‘n dÃ¹ng trÃªn Polygon, báº¡n pháº£i "lock" (khÃ³a) ETH vÃ o má»™t Smart Contract trÃªn Ethereum, sau Ä‘Ã³ má»™t lÆ°á»£ng tÆ°Æ¡ng Ä‘Æ°Æ¡ng sáº½ Ä‘Æ°á»£c "mint" (táº¡o ra) trÃªn Polygon. Khi muá»‘n quay láº¡i, quÃ¡ trÃ¬nh ngÆ°á»£c láº¡i xáº£y ra.

Tuy nhiÃªn, **VinaLib khÃ´ng cáº§n bridging** vÃ¬ toÃ n bá»™ ecosystem (sÃ¡ch, token thanh toÃ¡n, contracts) Ä‘á»u Ä‘Æ°á»£c xÃ¢y dá»±ng hoÃ n toÃ n trÃªn Polygon. User chá»‰ cáº§n mua MATIC (Ä‘á»“ng tiá»n native cá»§a Polygon) trá»±c tiáº¿p tá»« sÃ n giao dá»‹ch vÃ  chuyá»ƒn vá» vÃ­ cá»§a há». ÄÆ¡n giáº£n hÆ¡n nhiá»u!

**Lá»™ trÃ¬nh Deploy cá»§a VinaLib:**

Hiá»‡n táº¡i, VinaLib Ä‘ang á»Ÿ giai Ä‘oáº¡n development trÃªn Hardhat (máº¡ng local giáº£ láº­p). BÆ°á»›c tiáº¿p theo lÃ  testing trÃªn Sepolia (Ethereum testnet) vÃ  Mumbai (Polygon testnet) Ä‘á»ƒ Ä‘áº£m báº£o má»i thá»© hoáº¡t Ä‘á»™ng Ä‘Ãºng. Khi sáºµn sÃ ng cho production, VinaLib sáº½ deploy lÃªn **Polygon Mainnet** vÃ¬ ba lÃ½ do chÃ­nh:

1. **Chi phÃ­ sustainable:** $1 cho deployment toÃ n bá»™ há»‡ thá»‘ng thay vÃ¬ $1000, vÃ  chá»‰ $19.7/thÃ¡ng cho 1000 users thay vÃ¬ $19,700
2. **Tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng tá»‘t:** Giao dá»‹ch xÃ¡c nháº­n trong 2 giÃ¢y, phÃ­ ráº» Ä‘áº¿n má»©c ngÆ°á»i dÃ¹ng gáº§n nhÆ° khÃ´ng cáº£m nháº­n
3. **TÆ°Æ¡ng thÃ­ch hoÃ n toÃ n:** Code Solidity cháº¡y nguyÃªn xi, khÃ´ng cáº§n chá»‰nh sá»­a gÃ¬

Trong tÆ°Æ¡ng lai, náº¿u cáº§n finality nhanh hÆ¡n hoáº·c security cao hÆ¡n, VinaLib cÃ³ thá»ƒ cÃ¢n nháº¯c zkSync Era - nhÆ°ng hiá»‡n táº¡i Polygon lÃ  lá»±a chá»n "sweet spot" (Ä‘iá»ƒm tá»‘i Æ°u) hoÃ n háº£o.

---

## CHÆ¯Æ NG 7: INTERNET Váº N Váº¬T (IoT - Káº¾T Ná»I THá»°C Táº¾)

Cho Ä‘áº¿n nay, chÃºng ta Ä‘Ã£ nÃ³i vá» tháº¿ giá»›i sá»‘: Blockchain, Smart Contracts, dá»¯ liá»‡u trÃªn cloud. NhÆ°ng VinaLib lÃ  má»™t dá»‹ch vá»¥ thá»±c táº¿ - ngÆ°á»i dÃ¹ng cáº§n láº¥y sÃ¡ch váº­t lÃ½. **IoT** (Internet of Things) lÃ  cáº§u ná»‘i giá»¯a tháº¿ giá»›i sá»‘ vÃ  váº­t lÃ½.

### IoT - Máº¡ng lÆ°á»›i Thiáº¿t bá»‹ ThÃ´ng minh

**Internet of Things** lÃ  máº¡ng lÆ°á»›i cÃ¡c thiáº¿t bá»‹ váº­t lÃ½ káº¿t ná»‘i internet, cÃ³ kháº£ nÄƒng thu tháº­p vÃ  trao Ä‘á»•i dá»¯ liá»‡u mÃ  khÃ´ng cáº§n con ngÆ°á»i can thiá»‡p. Tá»« Ä‘Ã¨n thÃ´ng minh, tá»§ láº¡nh, camera an ninh Ä‘áº¿n khÃ³a cá»­a Ä‘iá»‡n tá»­ - táº¥t cáº£ Ä‘á»u lÃ  IoT.

Trong cuá»™c sá»‘ng hÃ ng ngÃ y, báº¡n cÃ³ thá»ƒ Ä‘áº·t Ä‘á»“ng há»“ bÃ¡o thá»©c thÃ´ng minh tá»± Ä‘á»™ng báº­t Ä‘Ã¨n phÃ²ng khi reo. MÃ¡y pha cÃ  phÃª tá»± pha theo lá»‹ch Ä‘Ã£ háº¹n. Khi báº¡n ra khá»i nhÃ , khÃ³a thÃ´ng minh tá»± Ä‘á»™ng khÃ³a cá»­a. Camera gá»­i thÃ´ng bÃ¡o khi phÃ¡t hiá»‡n ngÆ°á»i láº¡. Báº¡n cÃ³ thá»ƒ má»Ÿ khÃ³a tá»« xa báº±ng smartphone cho ngÆ°á»i giao hÃ ng. Táº¥t cáº£ nhá»¯ng Ä‘iá»u nÃ y Ä‘á»u nhá» vÃ o IoT.

### Kiáº¿n trÃºc Bá»‘n Táº§ng

Há»‡ thá»‘ng IoT thÆ°á»ng Ä‘Æ°á»£c chia thÃ nh bá»‘n táº§ng. **Táº§ng Perception** (Cáº£m nháº­n) lÃ  cÃ¡c thiáº¿t bá»‹ váº­t lÃ½ vÃ  sensors: khÃ³a thÃ´ng minh, camera, cáº£m biáº¿n nhiá»‡t Ä‘á»™, cáº£m biáº¿n chuyá»ƒn Ä‘á»™ng. **Táº§ng Network** (Máº¡ng) lÃ  cÃ¡c giao thá»©c káº¿t ná»‘i: WiFi, Bluetooth, Zigbee, LoRaWAN. **Táº§ng Platform** (Ná»n táº£ng) lÃ  cloud hoáº·c edge computing: xá»­ lÃ½ dá»¯ liá»‡u, phÃ¢n tÃ­ch, rule engine, machine learning. **Táº§ng Application** (á»¨ng dá»¥ng) lÃ  giao diá»‡n ngÆ°á»i dÃ¹ng: mobile apps, web dashboard, voice assistants.

### IoT Protocols - NgÃ´n ngá»¯ Giao tiáº¿p

CÃ³ nhiá»u protocols khÃ¡c nhau vÃ¬ má»—i loáº¡i cÃ³ Ä‘áº·c Ä‘iá»ƒm riÃªng phÃ¹ há»£p vá»›i use case khÃ¡c nhau. **WiFi** cÃ³ bÄƒng thÃ´ng cao phÃ¹ há»£p cho camera vÃ  smart TV, nhÆ°ng tá»‘n pin. **Bluetooth** pháº¡m vi ngáº¯n hÆ¡n nhÆ°ng tiáº¿t kiá»‡m pin, phÃ¹ há»£p cho wearables vÃ  fitness trackers. **Zigbee** táº¡o mesh network (cÃ¡c thiáº¿t bá»‹ relay cho nhau), phÃ¹ há»£p cho smart home. **LoRaWAN** cÃ³ thá»ƒ truyá»n xa hÃ ng kilomet vá»›i pin dÃ¹ng nhiá»u nÄƒm, phÃ¹ há»£p cho agriculture vÃ  smart cities.

**MQTT** (Message Queuing Telemetry Transport) lÃ  protocol phá»• biáº¿n nháº¥t cho IoT. NÃ³ hoáº¡t Ä‘á»™ng theo mÃ´ hÃ¬nh Publish/Subscribe: thiáº¿t bá»‹ publish dá»¯ liá»‡u lÃªn má»™t topic, á»©ng dá»¥ng subscribe vÃ o topic Ä‘Ã³ Ä‘á»ƒ nháº­n dá»¯ liá»‡u. CÃ³ má»™t broker trung gian Ä‘iá»u phá»‘i. MQTT ráº¥t nháº¹, header chá»‰ hai bytes, phÃ¹ há»£p cho thiáº¿t bá»‹ cÃ³ tÃ i nguyÃªn háº¡n cháº¿.

### Smart Lock - KhÃ³a ThÃ´ng minh

**Smart Lock** lÃ  khÃ³a cá»­a Ä‘iá»‡n tá»­ cÃ³ thá»ƒ má»Ÿ báº±ng smartphone, mÃ£ PIN, tháº» RFID, hoáº·c vÃ¢n tay. KhÃ´ng cáº§n chÃ¬a khÃ³a váº­t lÃ½. CÃ¡c loáº¡i smart lock phá»• biáº¿n bao gá»“m Deadbolt Replacement (thay tháº¿ khÃ³a cá»­a cÅ© hoÃ n toÃ n), Smart Padlock (á»• khÃ³a cho cá»•ng, tá»§, xe Ä‘áº¡p), vÃ  Smart Lockbox (há»™p Ä‘á»±ng chÃ¬a khÃ³a vá»›i mÃ£ unlock).

Trong VinaLib, smart lock Ä‘Æ°á»£c tÃ­ch há»£p vá»›i há»‡ thá»‘ng Blockchain. Khi Smart Contract approve má»™t rental, nÃ³ emit má»™t event. Backend service láº¯ng nghe event nÃ y, táº¡o má»™t mÃ£ unlock táº¡m thá»i (time-limited), vÃ  gá»­i lá»‡nh Ä‘áº¿n IoT platform (nhÆ° Tuya). Smart lock nháº­n lá»‡nh vÃ  cho phÃ©p má»Ÿ báº±ng mÃ£ nÃ y trong khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh. Sau khi háº¿t háº¡n, mÃ£ tá»± Ä‘á»™ng vÃ´ hiá»‡u.

### IoT + Blockchain Integration

Viá»‡c káº¿t há»£p IoT vá»›i Blockchain giáº£i quyáº¿t váº¥n Ä‘á» trust vÃ  immutability. Dá»¯ liá»‡u tá»« sensors thÆ°á»ng lÆ°u trÃªn server táº­p trung, cÃ³ thá»ƒ bá»‹ sá»­a Ä‘á»•i. Khi hash dá»¯ liá»‡u IoT lÃªn Blockchain, lá»‹ch sá»­ khÃ´ng thá»ƒ thay Ä‘á»•i.

Trong VinaLib, khi user tráº£ sÃ¡ch, IoT sensor ghi nháº­n thá»i gian vÃ  tÃ¬nh tráº¡ng sÃ¡ch. Dá»¯ liá»‡u nÃ y Ä‘Æ°á»£c hash vÃ  lÆ°u lÃªn Blockchain qua Chainlink. Náº¿u sau nÃ y cÃ³ tranh cháº¥p vá» viá»‡c sÃ¡ch cÃ³ bá»‹ hÆ° háº¡i hay khÃ´ng, cÃ³ thá»ƒ verify báº±ng cÃ¡ch so sÃ¡nh dá»¯ liá»‡u gá»‘c vá»›i hash trÃªn chain.

### Edge Computing vs Cloud

**Cloud Computing** lÃ  xá»­ lÃ½ dá»¯ liá»‡u táº¡i datacenter xa xÃ´i. Camera upload video lÃªn cloud, cloud phÃ¢n tÃ­ch, rá»“i gá»­i alert vá». Æ¯u Ä‘iá»ƒm lÃ  powerful processing, nhÆ°á»£c Ä‘iá»ƒm lÃ  cháº­m (phá»¥ thuá»™c internet) vÃ  lo ngáº¡i privacy.

**Edge Computing** lÃ  xá»­ lÃ½ ngay táº¡i thiáº¿t bá»‹ hoáº·c gateway local. Camera phÃ¢n tÃ­ch ngay táº¡i chá»— mÃ  khÃ´ng upload toÃ n bá»™ video. Æ¯u Ä‘iá»ƒm lÃ  nhanh (real-time, latency dÆ°á»›i mÆ°á»i mili giÃ¢y), privacy (dá»¯ liá»‡u khÃ´ng lÃªn cloud), vÃ  hoáº¡t Ä‘á»™ng offline. NhÆ°á»£c Ä‘iá»ƒm lÃ  processing power háº¡n cháº¿.

Trong thá»±c táº¿, **Hybrid Architecture** lÃ  tá»‘i Æ°u nháº¥t: edge xá»­ lÃ½ real-time (phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»™ng, má»Ÿ khÃ³a ngay láº­p tá»©c), chá»‰ gá»­i summaries hoáº·c alerts lÃªn cloud. Cloud lÆ°u trá»¯ lÃ¢u dÃ i vÃ  thá»±c hiá»‡n analytics phá»©c táº¡p.

### Security Challenges

IoT cÃ³ nhiá»u lá»— há»•ng báº£o máº­t. Thiáº¿t bá»‹ IoT thÆ°á»ng dÃ¹ng default password yáº¿u (admin/admin), firmware cÅ© khÃ´ng Ä‘Æ°á»£c update, vÃ  nÄƒng lá»±c tÃ­nh toÃ¡n háº¡n cháº¿ nÃªn khÃ³ implement encryption máº¡nh. Äiá»u nÃ y dáº«n Ä‘áº¿n cÃ¡c cuá»™c táº¥n cÃ´ng nhÆ° unauthorized access (hacker má»Ÿ khÃ³a smart lock tá»« xa), botnet (hÃ ng triá»‡u thiáº¿t bá»‹ bá»‹ Ä‘iá»u khiá»ƒn táº¥n cÃ´ng DDoS), hay ransomware (khÃ³a toÃ n bá»™ smart home vÃ  Ä‘Ã²i tiá»n chuá»™c).

Best practices bao gá»“m: thay Ä‘á»•i default passwords ngay láº­p tá»©c, giá»¯ firmware luÃ´n Ä‘Æ°á»£c cáº­p nháº­t, sá»­ dá»¥ng WiFi riÃªng cho IoT (tÃ¡ch khá»i máº¡ng chÃ­nh), enable two-factor authentication, vÃ  review privacy settings Ä‘á»ƒ táº¯t cÃ¡c tÃ­nh nÄƒng thu tháº­p dá»¯ liá»‡u khÃ´ng cáº§n thiáº¿t.

### Platforms vÃ  Ecosystems

CÃ³ nhiá»u IoT platforms phá»• biáº¿n. **Consumer platforms** nhÆ° Google Home, Amazon Alexa, Apple HomeKit, Samsung SmartThings giÃºp ngÆ°á»i dÃ¹ng quáº£n lÃ½ thiáº¿t bá»‹ smart home. **Enterprise/Cloud platforms** nhÆ° AWS IoT Core, Azure IoT Hub, Google Cloud IoT cung cáº¥p háº¡ táº§ng cho doanh nghiá»‡p xÃ¢y dá»±ng giáº£i phÃ¡p IoT quy mÃ´ lá»›n. **Specialized platforms** nhÆ° Tuya Smart cung cáº¥p turnkey solution cho manufacturers, cho phÃ©p há» lÃ m thiáº¿t bá»‹ thÃ´ng minh mÃ  khÃ´ng cáº§n xÃ¢y infrastructure tá»« Ä‘áº§u.

VinaLib sá»­ dá»¥ng Tuya platform cho smart locks. Tuya cung cáº¥p cloud API Ä‘á»ƒ Ä‘iá»u khiá»ƒn thiáº¿t bá»‹, SDK cho mobile app, vÃ  firmware cho hardware. Äiá»u nÃ y giáº£m Ä‘Ã¡ng ká»ƒ thá»i gian phÃ¡t triá»ƒn vÃ  Ä‘áº£m báº£o tÃ­nh tÆ°Æ¡ng thÃ­ch vá»›i cÃ¡c voice assistants nhÆ° Alexa vÃ  Google Assistant.

---

## TÃ³m táº¯t CÃ¡c Thuáº­t ngá»¯ Theo Vai trÃ² Há»‡ thá»‘ng

| NhÃ³m | Thuáº­t ngá»¯ ChÃ­nh | Vai trÃ² trong DApp VinaLib |
| --- | --- | --- |
| **Háº¡ táº§ng Ná»n táº£ng** | Node, Blockchain, Distributed Ledger, Hashing | Ná»n táº£ng báº¥t biáº¿n lÆ°u trá»¯ giao dá»‹ch vÃ  tráº¡ng thÃ¡i |
| **Logic vÃ  Ká»¹ thuáº­t Contract** | Solidity, EVM, Gas, Ownable, Pausable, Inheritance | XÃ¢y dá»±ng quy trÃ¬nh thuÃª sÃ¡ch an toÃ n vÃ  cÃ³ kiá»ƒm soÃ¡t |
| **Chuáº©n Token** | ERC-721, ERC-4907, SBT, ERC-20 | Äá»‹nh danh sÃ¡ch (NFT), cÆ¡ cháº¿ cho thuÃª, há»£p Ä‘á»“ng thuÃª vÃ  token thanh toÃ¡n |
| **LÆ°u trá»¯ Dá»¯ liá»‡u** | IPFS, CID, Pinning, Gateway, P2P | LÆ°u áº£nh bÃ¬a sÃ¡ch vÃ  metadata má»™t cÃ¡ch phi táº­p trung |
| **Oracle vÃ  Dá»¯ liá»‡u External** | Chainlink, DON, Data Feeds, VRF, Automation, Functions, OCR | Láº¥y dá»¯ liá»‡u Ä‘iá»ƒm uy tÃ­n, táº¡o random, tá»± Ä‘á»™ng hÃ³a, thá»±c thi logic off-chain |
| **TÆ°Æ¡ng tÃ¡c Váº­t lÃ½** | IoT, Smart Lock, MQTT, Tuya, Edge Computing, Sensors | Quáº£n lÃ½ sÃ¡ch váº­t lÃ½, má»Ÿ khÃ³a tá»§, ghi nháº­n tráº£ sÃ¡ch |
| **Kiáº¿n trÃºc Tá»•ng há»£p** | RWA, Hybrid Smart Contracts, Mainnet, Testnet | Káº¿t ná»‘i toÃ n bá»™ cÃ¡c thÃ nh pháº§n thÃ nh há»‡ sinh thÃ¡i hoÃ n chá»‰nh |

---

*TÃ i liá»‡u nÃ y lÃ  pháº§n giá»›i thiá»‡u tá»•ng quan. Äá»ƒ tÃ¬m hiá»ƒu chi tiáº¿t vá» tá»«ng chá»§ Ä‘á» vá»›i code examples, workflows cá»¥ thá»ƒ vÃ  phÃ¢n tÃ­ch technical sÃ¢u hÆ¡n, vui lÃ²ng tham kháº£o cÃ¡c file chuyÃªn sÃ¢u tÆ°Æ¡ng á»©ng trong cÃ¹ng thÆ° má»¥c:*

- `0. Kiáº¿n trÃºc Tá»•ng quan.md` - SÆ¡ Ä‘á»“ chi tiáº¿t, glossary Ä‘áº§y Ä‘á»§
- `1. IPFS.md` - CIDv0/v1, gateway implementation, pinning services
- `2. Smart Contracts (CÆ¡ báº£n).md` - Workflow VinaLib chi tiáº¿t (BookAsset, BookRental, PolicyEngine

)
- `3. Smart Contracts (NÃ¢ng cao).md` - Design patterns, dependency analysis, security best practices
- `4. Chainlink.md` - Request/response lifecycle, subscription model, secrets management
- `5. IoT.md` - Tuya integration, physical access control, data integrity patterns

*Cáº­p nháº­t láº§n cuá»‘i: 2026-01-31*
>>>>>>> 3b53f72f27370582057c186e462957c6dba88905
